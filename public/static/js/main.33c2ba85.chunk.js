(this["webpackJsonpmeasurify-admin-dashboard"]=this["webpackJsonpmeasurify-admin-dashboard"]||[]).push([[0],{103:function(e,t,n){},130:function(e,t){},132:function(e,t){},147:function(e,t,n){},148:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(24),s=n.n(i),c=(n(103),n(14)),o=n(10),l=n(3),d=n(7),u=n.n(d),j=n(11),b=n(8),h=n(168),p={username:"Nome utente",password:"Password",tenant:"Organizzazione",keep_logged:"Mantieni Accesso",select:"Seleziona",language:"Lingua",welcome:"Bentornato",role:"Ruolo",session_expire_in:"La sessione scadr\xe0 in ",tools:"Strumenti",notifications:"Notifiche",file_content:"Contenuto del file",clear_all:"Cancella tutto",enter:"Inserisci",username_suggestion:"Inserisci il nome utente",password_suggestion:"Inserisci la password",tenant_suggestion:"Inserisci la tua organizzazione",add_tenant:"Aggiungi organizzazione",welcome_hp:"Benvenuto nel pannello di controllo di Measurify!",left_bar_descr_hp:"Nella barra a sinistra sono presenti le informazioni relative al tuo account e i collegamenti alle pagine.",right_bar_descr_hp:'La barra a destra pu\xf2 essere aperta cliccando sul pulsante "Notifiche" per mostrare la lista delle notifiche.',session_expire_info_hp:"",github_page_hp:"Pagina Github di Measurify",github_issue_page_hp:"Segnala bug o problemi",oh_no:"Oh No!",broken_link:"Sembra che tu abbia utilizzato un collegamento non funzionante.",submit:"Invio",cancel:"Annulla",login:"Accedi",logout:"Esci",login_error:"Login errata!",unauthorised_user:"Non sei abilitato a utilizzare questa pagina",session_expired:"Sessione scaduta"},f={username:"Username",password:"Password",tenant:"Tenant",keep_logged:"Keep Logged In",select:"Select",language:"Language",welcome:"Welcome back",role:"Role",session_expire_in:"Session will expire in ",tools:"Tools",notifications:"Notifications",file_content:"File content",clear_all:"Clear all",enter:"Enter",username_suggestion:"Insert your username",password_suggestion:"Insert your password",tenant_suggestion:"Insert your tenant",add_tenant:"Add tenant",welcome_hp:"Welcome to the Administration dashboard!",left_bar_descr_hp:"The left bar contains the information about your account and  the list of tabs",right_bar_descr_hp:'The right bar contains the notification bar (Click on "Notifications" to open).',session_expire_info_hp:"",github_page_hp:"",github_issue_page_hp:"Report bugs or issues",oh_no:"Oh No!",broken_link:"It looks like you have clicked on a broken link.",submit:"Submit",cancel:"Cancel",login:"Login",logout:"Logout",login_error:"Wrong login!",unauthorised_user:"You are not allowed to use this page",session_expired:"Session expired"},O=n(105).default,m=n(123),x=O.create({httpsAgent:new m.Agent({})}),v={PushNotification:function(e){},RemoveNotification:function(e){},ClearNotifications:function(){}};function g(e,t,n){var r={username:"".concat(e),password:"".concat(t),tenant:"".concat(n)},a={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:I()}},i=T+"/login";return new Promise((function(e,t){x.post(i,r,a).then((function(t){localStorage.setItem("diten-token",t.data.token),localStorage.setItem("diten-token-expiration-time",t.data.token_expiration_time),localStorage.setItem("diten-username",t.data.user.username),localStorage.setItem("diten-user-role",t.data.user.type),localStorage.setItem("diten-user-tenant",n),localStorage.setItem("diten-login-time",(new Date).getTime().toString()),e(t)})).catch((function(e){t(e)}))}))}function y(e,t){return k.apply(this,arguments)}function k(){return k=Object(o.a)(u.a.mark((function e(t,n){var r,a,i,s,c,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},void 0===(a=o.length>3&&void 0!==o[3]?o[3]:void 0)&&(a=I()),i=T+"/"+t+"/file",console.log("POST file:"+i),s={"Content-Type":"multipart/form-data","Cache-Control":"no-cache",Authorization:a},Object.entries(r).forEach((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];s[n]=r})),c={headers:s},e.abrupt("return",new Promise((function(e,r){x.post(i,n,c).then((function(n){v.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of file on: "+t}),e({response:n})})).catch((function(e){v.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of file on: "+t}),r({error:e})}))})));case 9:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function w(e,t){return C.apply(this,arguments)}function C(){return C=Object(o.a)(u.a.mark((function e(t,n){var r,a,i,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===(r=s.length>2&&void 0!==s[2]?s[2]:void 0)&&(r=I()),a=T+"/"+t+"/",console.log("POST :"+a),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:r}},console.log({header:i,body:n,token:r}),e.abrupt("return",new Promise((function(e,r){x.post(a,n,i).then((function(n){v.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of a resource type: "+t}),e({response:n})})).catch((function(e){v.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of a resource type: "+t}),r({error:e})}))})));case 7:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function S(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(o.a)(u.a.mark((function e(t,n,r){var a,i,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:void 0,i=T+"/"+t+"/"+r,void 0===a&&(a=I()),console.log("PUT :"+i),s={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:a}},e.abrupt("return",new Promise((function(e,a){x.put(i,n,s).then((function(a){v.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful PUT of a resource type: "+t+", id: "+r+", body: "+JSON.stringify(n)}),e({response:a})})).catch((function(e){v.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a PUT on resource type: "+t+", id: "+r+", body: "+JSON.stringify(n)+". "+e.message}),a({error:e})}))})));case 6:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function _(e,t){return A.apply(this,arguments)}function A(){return A=Object(o.a)(u.a.mark((function e(t,n){var r,a,i,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:void 0,a=T+"/"+t,void 0===r&&(r=I()),void 0!==n&&(a+="/"+n),console.log("DELETE :"+a),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:r}},e.abrupt("return",new Promise((function(e,r){x.delete(a,i).then((function(r){void 0!==n?v.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resource: "+n+", of type: "+t}):v.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resources of type: "+t}),e({response:r})})).catch((function(e){v.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"error deleting resource: "+n+", of type: "+t+". "+e.message}),404===e.statusCode&&v.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Please check if your user is authorized to delete the resource. "+e.message}),r({error:e})}))})));case 7:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function F(e){return D.apply(this,arguments)}function D(){return D=Object(o.a)(u.a.mark((function e(t){var n,r,a,i,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2?s[2]:void 0,a=T+"/"+t+"/",void 0===r&&(r=I()),a=void 0!==n.filter?a.concat("?filter="+n.filter):a.concat("?filter="),void 0!==n.limit&&(a=a.concat("&limit="+n.limit)),void 0!==n.page&&(a=a.concat("&page="+n.page)),console.log("GET :"+a),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:r},json:!0},e.abrupt("return",new Promise((function(e,t){x.get(a,i).then((function(t){e({response:t,docs:t.data.docs,totalDocs:t.data.totalDocs,limit:t.data.limit,totalPages:t.data.totalPages,page:t.data.page,pagingCounter:t.data.pagingCounter,hasPrevPage:t.data.hasPrevPage,hasNextPage:t.data.hasNextPage,prevPage:t.data.prevPage,nextPage:t.data.nextPage})})).catch((function(e){t({error:e})}))})));case 10:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function I(){return localStorage.getItem("diten-token")}var T="https://hi-drive.measurify.org:8080/v1",P="Admin Dashboard",R=[],z={protocols:["_id","description","actions"],experiments:["_id","description","protocol","actions"]},B={},W={protocols:["view","delete"],experiments:["view","delete"]},E={protocols:["_id","description","metadata"],experiments:["_id","description","protocol","metadata"]},L={},K={tenants:{token:"",_id:"",organization:"",address:"",email:"",phone:"",admin_username:"",admin_password:"",passwordhash:""},protocols:{_id:"",description:"",metadata:[{name:"",description:"",type:""}],topics:[{name:"",description:"",fields:[{name:"",description:"",type:""}]}]},experiments:{_id:"",description:"",state:""}},H={},G={tenants:["form"],protocols:["form","file"],experiments:["form","file"]},J={};function M(){var e=localStorage.getItem("diten-language");return 0===R.length?f:(1===R.length&&(e=R[0]),"it"===e?p:"en"===e?f:"it"===navigator.language.substring(0,2)?p:(navigator.language.substring(0,2),f))}n(147),n(148);var U=n(0),q=function(){function e(e){localStorage.setItem("diten-language",e),window.location.reload()}return Object(U.jsxs)("div",{children:[M().language,Object(U.jsxs)("div",{children:[Object(U.jsx)(h.a,{variant:"outline-info",onClick:function(){return e("it")},children:"Ita"}),Object(U.jsx)(h.a,{variant:"outline-info",onClick:function(){return e("en")},children:"Eng"})]})]})},V=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),s=Object(l.a)(i,2),c=s[0],d=s[1],b=Object(r.useState)(""),p=Object(l.a)(b,2),f=p[0],O=p[1],m=Object(r.useState)(!0),x=Object(l.a)(m,2),v=x[0],y=(x[1],Object(r.useState)("")),k=Object(l.a)(y,2),w=k[0],C=k[1];function S(){return(S=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g(n,c,f);case 4:e.sent,!0===v?localStorage.setItem("diten-logged-in","keep"):localStorage.setItem("diten-logged-in","logout"),window.location.replace("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log({error:e.t0.response.data}),C(e.t0.response.data.message+" : "+e.t0.response.data.details);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(U.jsxs)("div",{className:"auth-page",children:[Object(U.jsxs)("div",{className:"title-wrapper",children:[Object(U.jsx)("div",{className:"title-section",children:"Measurify"}),Object(U.jsx)("br",{}),Object(U.jsx)("div",{className:"subtitle-section",children:"From the edge to cloud and back"})]}),R.length>1&&Object(U.jsx)("div",{className:"language-wrapper",children:Object(U.jsx)(q,{})}),Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{className:"login-section",children:[Object(U.jsx)("h4",{children:M().login}),Object(U.jsxs)("form",{className:"form-content",onSubmit:function(e){return S.apply(this,arguments)},children:[Object(U.jsxs)("div",{className:"form-row row",children:[Object(U.jsx)("label",{children:M().username}),Object(U.jsx)("input",{type:"text",id:"username",placeholder:M().username_suggestion,onChange:function(e){a(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-row row",children:[Object(U.jsx)("label",{children:M().password}),Object(U.jsx)("input",{type:"password",id:"password",placeholder:M().password_suggestion,onChange:function(e){d(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-row row",children:[Object(U.jsx)("label",{children:M().tenant}),Object(U.jsx)("input",{type:"text",id:"tenant",placeholder:M().tenant_suggestion,onChange:function(e){O(e.target.value)}})]}),Object(U.jsx)("div",{className:"buttons-wrapper center",children:Object(U.jsx)(h.a,{type:"submit",variant:"success",children:M().submit})}),Object(U.jsx)("br",{}),Object(U.jsx)("div",{style:{color:"red"},children:w}),Object(U.jsx)("br",{}),Object(U.jsx)("div",{className:"form-row row",children:Object(U.jsx)(j.b,{to:"/add/tenants",children:Object(U.jsxs)(h.a,{variant:"outline-success",size:"sm",children:[M().add_tenant,Object(U.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})]})})})]})]})]})},Y=(n(150),function(){return Object(r.useEffect)((function(){})),Object(U.jsxs)("div",{className:"page",children:[Object(U.jsx)("header",{className:"page-header",children:P}),Object(U.jsx)("main",{className:"page-content",children:Object(U.jsx)("div",{className:"home-page",children:Object(U.jsx)("div",{className:"info-box",children:Object(U.jsxs)("div",{className:"info-text",children:[M().welcome_hp,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),M().left_bar_descr_hp,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),M().right_bar_descr_hp,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),M().session_expire_info_hp,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:M().github_issue_page_hp}),Object(U.jsx)("br",{})]})})})})]})}),Q=(n(151),function(){return Object(U.jsxs)("div",{className:"notFound-page",children:[M().oh_no,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),M().broken_link,Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),Object(U.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:M().github_issue_page_hp})]})}),X=(n(152),n(44)),Z=n(17);X.a.library.add(Z.g,Z.a,Z.l,Z.j,Z.i,Z.k,Z.h,Z.b);var $=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)(),c=Object(l.a)(s,2),o=c[0],d=c[1],u=Object(r.useState)(),b=Object(l.a)(u,2),p=b[0],f=b[1],O=Object(r.useState)(),m=Object(l.a)(O,2),v=m[0],g=m[1],y=Object(r.useState)(),k=Object(l.a)(y,2),w=k[0],C=k[1],S=Object(r.useState)(),N=Object(l.a)(S,2),_=N[0],A=N[1],F=Object(r.useState)(),D=Object(l.a)(F,2),P=D[0],B=D[1],W=Object(r.useState)("00:00"),E=Object(l.a)(W,2),L=E[0],K=E[1];function H(){var e;if(void 0===w){var t=localStorage.getItem("diten-login-time");null!==t?(e=parseInt(t),C(parseInt(t))):e=Date.now()}else e=w;var n=(e+function(){var e;if(void 0===_){var t=localStorage.getItem("diten-token-expiration-time");null!==t?(e=t,A(t)):e="5m"}else e=_;return e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()-Date.now())/1e3;if(n<60&&"keep"===P&&function(){var e={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:I()}},t=T+"/login";return new Promise((function(n,r){x.put(t,{},e).then((function(e){localStorage.setItem("diten-token",e.data.token),localStorage.setItem("diten-login-time",(new Date).getTime().toString()),n(e)})).catch((function(e){r(e)}))}))}().then((function(){C(void 0)})),n<=0)return localStorage.clear(),K(M().session_expired),void window.location.replace("/");var r=Math.floor(n/60),a=Math.floor(n%60);K(r+" : "+("0"+a).slice(-2))}return Object(r.useEffect)((function(){var e=localStorage.getItem("diten-username"),t=localStorage.getItem("diten-user-role"),n=localStorage.getItem("diten-user-tenant"),r=localStorage.getItem("diten-login-time"),a=localStorage.getItem("diten-token-expiration-time"),i=localStorage.getItem("diten-logged-in");d(null!==e?e:""),f(null!==t?t:""),g(null!==n&&""!==n?n:"-"),A(null!==a?a:"300m"),B(null!==i?i:"logout"),C(null!==r?parseInt(r):Date.now()),setTimeout((function(){H()}),1e3)}),[L]),Object(U.jsxs)("nav",{className:"app-nav",children:[Object(U.jsx)(h.a,{className:"app-nav-opener",onClick:function(){return i(!n)},children:n?Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}):Object(U.jsx)("i",{className:"fa fa-bars","aria-hidden":"true"})}),Object(U.jsx)("hr",{}),Object(U.jsxs)("div",{className:"data-wrapper",children:[Object(U.jsxs)("div",{children:[Object(U.jsxs)("h3",{children:[M().welcome+" ",Object(U.jsx)("b",{children:o})]}),Object(U.jsxs)("h3",{children:[M().role+" ","admin"===p?Object(U.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===p?Object(U.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===p?Object(U.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===p?Object(U.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(U.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]}),Object(U.jsxs)("h3",{children:[M().tenant+" ",Object(U.jsx)("b",{children:v})]})]}),Object(U.jsx)("br",{}),Object(U.jsx)(h.a,{variant:"outline-danger",onClick:function(){return localStorage.clear(),void document.location.replace("/")},children:M().logout}),R.length>1&&Object(U.jsxs)(a.a.Fragment,{children:[Object(U.jsx)("hr",{}),Object(U.jsx)("h2",{children:Object(U.jsx)(q,{})})]})]}),Object(U.jsx)("hr",{}),Object(U.jsx)("div",{className:"app-nav-wrapper ".concat(n?"opened":""),children:Object(U.jsxs)("div",{className:"app-nav-links",children:[Object(U.jsx)("div",{className:"app-nav-text",children:M().tools}),Object(U.jsx)("hr",{}),Object.keys(z).map((function(e){return Object(U.jsx)(j.b,{to:"/"+e,className:function(e){return e.isActive?"active":""},onClick:function(){return i(!1)},children:e},e)}))]})})]})},ee=n(169),te=n(177),ne=n(98),re=n(174);function ae(e){var t={};return console.log({props:e}),E[e.resType].map((function(n){console.log(n.constructor===Object),n.constructor===Object?Object.keys(n).map((function(r){Array.isArray(e.resource[r])?t[r]=e.resource[r].map((function(e){var t={};return n[r].map((function(n){t[n]=e[n]})),t})):t[r]=e.resource[r]})):Object.keys(e.resource).includes(n)&&(t[n]=e.resource[n])})),console.log({toShow:t}),ie(t)}function ie(e){return Object(U.jsx)(te.a,{defaultActiveKey:0,size:"lg",children:a.a.Children.toArray(Object.entries(e).map((function(e,t){var n=Object(l.a)(e,2),r=n[0],i=n[1];return Object(U.jsxs)(te.a.Item,{eventKey:t,children:[Object(U.jsx)(te.a.Header,{children:Object(U.jsx)("b",{children:r})}),Object(U.jsx)(te.a.Body,{children:i instanceof Object?Array.isArray(i)?void 0!==i[0]?Object.values(i[0]).some((function(e){return e instanceof Object}))?a.a.Children.toArray(i.map((function(e,t){return Object(U.jsx)(te.a,{children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsxs)(te.a.Header,{children:[r," ",Object(U.jsxs)("i",{children:["[",t,"]"]})]}),Object(U.jsx)(te.a.Body,{children:ie(e)})]})})}))):i[0]instanceof Object?Object(U.jsxs)(ee.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(U.jsx)("thead",{children:Object(U.jsx)("tr",{children:a.a.Children.toArray(Object.keys(i[0]).map((function(e){return Object(U.jsx)("th",{children:e})})))})}),Object(U.jsx)("tbody",{children:a.a.Children.toArray(i.map((function(e){return Object(U.jsx)("tr",{children:a.a.Children.toArray(Object.values(e).map((function(e){return Object(U.jsx)("td",{children:e})})))})})))})]}):"[ "+i.join(" , ")+" ]":"[ ]":"AAAA":void 0===i||null==i?Object(U.jsx)("i",{children:"None"}):i})]})})))})}function se(e){var t=Object(r.useState)(void 0),n=Object(l.a)(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){}),[e]);var s=void 0!==a?Object(U.jsxs)(ne.a,{id:"popover-positioned-left",style:{width:"20vw",minWidth:"400px"},children:[Object(U.jsx)(ne.a.Header,{as:"h3",children:"View Resource"}),Object(U.jsx)(ne.a.Body,{children:Object(U.jsx)(ae,{resource:a,resType:e.resType})})]}):Object(U.jsx)(ne.a,{id:"popover-positioned-left",style:{width:"20vw"},children:Object(U.jsxs)(ne.a.Header,{as:"h3",children:["Loading",Object(U.jsx)(ne.a.Body,{})]})});return"view"===e.action?Object(U.jsx)(re.a,{trigger:"click",placement:"left",overlay:s,rootClose:!0,children:Object(U.jsx)(h.a,{variant:"link",size:"sm",onClick:function(){i(e.takeSingle(e.id))},children:Object(U.jsx)("i",{className:"fa fa-eye","aria-hidden":"true",title:"View",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"delete"===e.action?Object(U.jsx)(h.a,{variant:"link",size:"sm",onClick:Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete: "+e.id+"?")){t.next=12;break}return t.prev=2,t.next=5,_(e.resType,e.id);case 5:200==t.sent.response.status&&e.removeSingle(e.id),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),children:Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Delete",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})}):"edit"===e.action?Object(U.jsx)(j.b,{to:"/edit/"+e.resType+"/"+e.id,children:Object(U.jsx)(h.a,{variant:"link",size:"sm",children:Object(U.jsx)("i",{className:"fa fa-pencil-alt","aria-hidden":"true",title:"Edit",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"duplicate"===e.action?Object(U.jsx)(j.b,{to:"/add/"+e.resType+"/?from="+e.id,children:Object(U.jsx)(h.a,{variant:"link",size:"sm",children:Object(U.jsx)("i",{className:"fa fa-copy","aria-hidden":"true",title:"Duplicate",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):Object(U.jsx)("div",{})}function ce(e){return void 0===e.header||void 0===e.resources||e.header.includes("actions")&&void 0===e.actions?Object(U.jsx)("div",{children:"Loading"}):Object(U.jsx)("div",{children:Object(U.jsxs)(ee.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)("tr",{children:a.a.Children.toArray(e.header.map((function(t){return void 0!==B[e.resType]&&void 0!==B[e.resType][t]?Object(U.jsx)("th",{children:B[e.resType][t]}):Object(U.jsx)("th",{children:t})})))},"header")}),Object(U.jsx)("tbody",{children:a.a.Children.toArray(e.resources.map((function(t,n){return Object(U.jsx)("tr",{children:a.a.Children.toArray(e.header.map((function(r){return"actions"===r?Object(U.jsxs)("td",{children:[e.actions.includes("view")?Object(U.jsx)(se,{resType:e.resType,action:"view",k:n+"_view",id:t._id,takeSingle:e.takeSingle}):"",e.actions.includes("edit")?Object(U.jsx)(se,{resType:e.resType,action:"edit",k:n+"_edit",id:t._id}):"",e.actions.includes("duplicate")?Object(U.jsx)(se,{resType:e.resType,action:"duplicate",k:n+"_duplicate",id:t._id}):"",e.actions.includes("delete")?Object(U.jsx)(se,{resType:e.resType,action:"delete",k:n+"_delete",id:t._id,removeSingle:e.removeSingle}):""]}):void 0!==t[r]?Array.isArray(t[r])?Object(U.jsx)("td",{children:"[ "+t[r].join(" , ")+" ]"}):Object(U.jsx)("td",{children:t[r]}):void 0})))})})))})]})})}X.a.library.add(Z.d,Z.e,Z.c);var oe=n(180);n(153);function le(e){var t=Object(b.h)().page,n=Object(j.c)(),a=Object(l.a)(n,2),i=a[0],s=a[1],c=Object(r.useState)(void 0),d=Object(l.a)(c,2),p=d[0],f=d[1],O=Object(r.useState)(void 0),m=Object(l.a)(O,2),x=m[0],v=m[1],g=Object(r.useState)(void 0),y=Object(l.a)(g,2),k=y[0],w=y[1],C=Object(r.useState)(1),S=Object(l.a)(C,2),N=S[0],_=S[1],A=Object(r.useState)(1),D=Object(l.a)(A,2),I=D[0],T=D[1],P=Object(r.useState)(),R=Object(l.a)(P,2),B=R[0],E=R[1],L=Object(r.useState)(),H=Object(l.a)(L,2),G=H[0],J=H[1],M=Object(r.useState)(),q=Object(l.a)(M,2),V=q[0],Y=q[1],Q=Object(r.useState)(),X=Object(l.a)(Q,2),Z=X[0],$=X[1],ee=Object(r.useState)(),te=Object(l.a)(ee,2),ne=te[0],re=te[1];Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var n,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,F(t,n);case 4:r=e.sent,v(z[t]),f(r.docs),void 0!==W[t]&&w(W[t]),E(r.hasNextPage),J(r.hasPrevPage),re(r.totalPages),Y(r.prevPage),$(r.nextPage),e.next=25;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),v(void 0),f(void 0),E(void 0),J(void 0),re(void 0),Y(void 0),$(void 0);case 25:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),n=null!==i.get("page")?i.get("page"):1;_(n);var r=null!==i.get("limit")?i.get("limit"):10;T(r),e({page:n,limit:r}).catch(console.error)}),[e,t,i]);var ae=function(){var e=parseInt(N,10)-2>0,t=parseInt(N,10)+2<ne;return Object(U.jsx)("div",{style:{display:"inline-flex",width:"100%"},children:Object(U.jsxs)(oe.a,{style:{alignSelf:"center",marginLeft:"auto",marginRight:"auto"},children:[Object(U.jsx)(oe.a.First,{disabled:1===N,onClick:function(){return s({page:1,limit:I})}}),Object(U.jsx)(oe.a.Prev,{disabled:!G,onClick:function(){return s({page:V,limit:I})}}),e&&Object(U.jsx)(oe.a.Ellipsis,{}),parseInt(N,10)-1>0&&Object(U.jsx)(oe.a.Item,{onClick:function(){return s({page:parseInt(N,10)-1,limit:I})},children:parseInt(N,10)-1}),Object(U.jsx)(oe.a.Item,{children:Object(U.jsx)("b",{children:N})}),parseInt(N,10)+1<=ne&&Object(U.jsx)(oe.a.Item,{onClick:function(){return s({page:parseInt(N,10)+1,limit:I})},children:parseInt(N,10)+1}),t&&Object(U.jsx)(oe.a.Ellipsis,{}),Object(U.jsx)(oe.a.Next,{disabled:!B,onClick:function(){return s({page:Z,limit:I})}}),Object(U.jsx)(oe.a.Last,{disabled:N===ne,onClick:function(){return s({page:ne,limit:I})}})]})})};return Object(U.jsxs)("div",{className:"page",children:[Object(U.jsxs)("header",{className:"page-header",children:[t,void 0!==K[t]&&Object(U.jsx)(j.b,{to:"/add/"+t+"/",children:Object(U.jsx)(h.a,{variant:"link",size:"sm",children:Object(U.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}},t+"icon")},t+"button")},t+"_add_navlink")]}),Object(U.jsxs)("main",{className:"page-content",children:[Object(U.jsx)(ce,{resType:t,header:x,resources:p,actions:k,takeSingle:function(e){return p.find((function(t){return t._id===e}))},removeSingle:function(e){var t=p.filter((function(t){return t._id!==e}));f(t)}}),Object(U.jsx)(ae,{})]})]})}X.a.library.add(Z.f);n(154),n(155);function de(){return Object(U.jsx)("div",{className:"unAuth-page",children:Object(U.jsx)("div",{className:"info-box",children:Object(U.jsx)("div",{className:"info-text",children:M().unauthorised_user})})})}var ue=n(170),je=n(175),be=n(171),he=n(179),pe=a.a.createContext();function fe(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],i=n[1],s=Object(r.useContext)(pe);return Object(U.jsxs)("div",{children:[Object(U.jsxs)(h.a,{variant:"link",onClick:function(){i(!0)},style:{color:"#fff",textDecoration:"none"},children:[M().notifications,"  ",Object(U.jsx)(ue.a,{pill:!0,bg:"success",children:s.notifications.length}),Object(U.jsx)("span",{className:"visually-hidden",children:"Unread notifications"})]}),Object(U.jsxs)(je.a,{style:{backgroundColor:"#123651",color:"#fff"},show:a,onHide:function(){return i(!1)},placement:"end",name:"notification_bar",scroll:!1,backdrop:!0,keyboard:!0,children:[Object(U.jsx)(je.a.Header,{children:Object(U.jsxs)(je.a.Title,{children:[M().notifications,"  ",Object(U.jsx)(ue.a,{pill:!0,bg:"success",children:s.notifications.length})]})}),Object(U.jsx)(je.a.Body,{children:Object(U.jsxs)("div",{style:{width:"100%",height:"100%"},children:[0!==s.notifications.length&&Object(U.jsx)(h.a,{variant:"warning",onClick:function(){return s.ClearNotifications()},children:M().clear_all}),Object(U.jsx)(be.a,{children:s.notifications.map((function(e,t){var n;return"info"===e.name&&(n="success"),"error"===e.name&&(n="danger"),Object(U.jsxs)(he.a,{className:"d-inline-block m-1",bg:n,animation:!0,onClose:function(){s.RemoveNotification(t)},children:[Object(U.jsxs)(he.a.Header,{children:[Object(U.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(U.jsx)("strong",{className:"me-auto",children:e.name}),Object(U.jsx)("small",{children:e.time.slice(0,15)})]}),Object(U.jsx)(he.a.Body,{children:e.msg})]},"notification_"+t)}))})]})})]})]})}var Oe,me=n(9),xe=n(2),ve=function e(t){if(void 0===t)return!0;if(null==t)return!0;if("number"===typeof t)return isNaN(t);if("string"===typeof t)return""===t;if(Array.isArray(t)){if(0===t.length)return!0;var n=!0;return t.forEach((function(t){n=n&&e(t)})),n}if(t.constructor===Object){var r=!0;return Object.entries(t).forEach((function(t){var n=Object(l.a)(t,2),a=(n[0],n[1]);r=r&&e(a)})),r}},ge=function(e){return!1===Array.isArray(e)?-1:e.filter((function(e){return!ve(e)})).length},ye=function e(t){if(Array.isArray(t),t.constructor===Object)for(var n=Object.entries(t),r=0;r<n.length;r++){if(Array.isArray(n[r][1]))for(var a=0;a<n[r][1].length;a++)n[r][1][a].constructor===Object||Array.isArray(n[r][1][a])?(e(n[r][1][a]),ve(n[r][1][a])&&n[r][1].splice(a,1)):ve(n[r][1][a])&&n[r][1].splice(a,1);if(n[r][1].constructor===Object)for(var i=Object.entries(n[r][1]),s=0;s<i.length;s++)i[r][1].constructor===Object||Array.isArray(i[r][1])?e(i[r][1]):ve(i[r][1])&&delete n[r][1][i[r][0]]}return t},ke=function e(t,n){if(void 0===t||void 0===n)return!1;if(t===n)return!0;if(typeof t!==typeof n)return!1;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return!1;if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===Object&&n.constructor!==Object||t.constructor!==Object&&n.constructor===Object)return!1;if(t.constructor===Object&&n.constructor===Object){var a=Object.keys(t),i=Object.keys(n);return a.length===i.length&&(!!e(a,i)&&!!e(Object.values(t),Object.values(n)))}return!1};var we=n(172),Ce=n(97),Se=n(176),Ne=n(173),_e=function(e){if(void 0===e.values||void 0===e.resource||void 0===e.disabledFields||void 0===e.functionalFields||void 0===e.submitFunction||void 0===e.backFunction||void 0===e.handleChangesCallback||void 0===e.arrayDeleteCallback)return"Loading";console.log({values:e.values,resource:e.resource,disabledFields:e.disabledFields,functionalFields:e.functionalFields,submitFunction:e.submitFunction,backFunction:e.backFunction,handleChangesCallback:e.handleChangesCallback,arrayDeleteCallback:e.arrayDeleteCallback});var t=function(t,n){return Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)(Ce.a,{sm:4,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsxs)(Se.a.Select,{"aria-label":"Default select",value:e.values[t],id:t,onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],children:[Object(U.jsx)("option",{children:M().select+" "+t}),a.a.Children.toArray(Object.entries(n).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(U.jsx)("option",{value:n,children:r})})))]})})})]})};return Object(U.jsxs)(Se.a,{onSubmit:e.submitFunction,children:[Object(U.jsxs)(Ne.a,{fluid:!0,children:[void 0===e.functionalFields[e.resource]&&"No operation allowed",void 0!==e.functionalFields[e.resource]&&a.a.Children.toArray(Object.entries(e.values).map((function(n){var r,i=Object(l.a)(n,2),s=i[0],c=i[1];if("number"===typeof c)return function(t){return Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)(Ce.a,{sm:4,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"number",id:t,onChange:function(n){n.preventDefault(),e.handleChangesCallback(parseInt(n.target.value,10),[t])},value:isNaN(e.values[t])?"":e.values[t],disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],placeholder:M().enter+" "+t})})})]})}(s);if("string"===typeof c)return function(n){return void 0!==J[e.resource]&&void 0!==J[e.resource][n]&&void 0!==Oe&&void 0!==Oe[J[e.resource][n]]?t(n,Oe[J[e.resource][n]]):Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:n})}),Object(U.jsx)(Ce.a,{sm:4,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"password"===n?"password":"text",id:n,onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[n])},disabled:void 0!==e.disabledFields[n]&&e.disabledFields[n],value:e.values[n],placeholder:M().enter+" "+n})})})]})}(s);if(Array.isArray(c)){if("number"===typeof c[0])return r=s,Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:r})}),Object(U.jsx)(Ce.a,{sm:4,children:a.a.Children.toArray(e.values[r].map((function(t,n){return Object(U.jsx)(we.a,{children:Object(U.jsxs)(Se.a.Group,{className:"mb-3",children:[Object(U.jsxs)(Se.a.Label,{children:["Insert ",Object(U.jsx)("b",{children:r}),Object(U.jsxs)("i",{children:["[",n,"]"]})]}),Object(U.jsx)(Se.a.Control,{type:"number",disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,n])},value:isNaN(e.values[r][n])?"":e.values[r][n],placeholder:M().enter+" "+r})]})})})))})]});if("string"===typeof c[0])return function(t){return Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)(Ce.a,{children:a.a.Children.toArray(e.values[t].map((function(n,r){return Object(U.jsxs)(we.a,{children:[Object(U.jsx)(Ce.a,{sm:1,children:Object(U.jsx)(h.a,{disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],variant:"link",size:"sm",onClick:function(n){n.preventDefault(),e.arrayDeleteCallback([t,r])},children:Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(U.jsx)(Ce.a,{sm:4,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"text",disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t,r])},value:e.values[t][r],placeholder:M().enter+" "+t})})}),Object(U.jsx)(Ce.a,{md:"auto"})]})})))})]})}(s);if(c[0].constructor===Object)return function(t){return Object(U.jsxs)(we.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(U.jsx)(Ce.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(U.jsx)("b",{children:t})}),Object(U.jsx)(Ce.a,{children:a.a.Children.toArray(e.values[t].map((function(n,r){return Object(U.jsxs)(we.a,{children:[Object(U.jsx)(Ce.a,{sm:1,children:Object(U.jsx)(h.a,{disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],variant:"link",size:"sm",onClick:function(n){n.preventDefault(),e.arrayDeleteCallback([t,r])},children:Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),a.a.Children.toArray(Object.entries(n).map((function(n){var i=Object(l.a)(n,2),s=i[0],c=i[1];return"number"===typeof c?Object(U.jsx)(Ce.a,{sm:2,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"number",onChange:function(n){n.preventDefault(),e.handleChangesCallback(parseInt(n.target.value,10),[t,r,s])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],value:isNaN(e.values[t][r][s])?"":e.values[t][r][s],placeholder:M().enter+" "+s},t+s+r+"")})}):"string"===typeof c?Object(U.jsx)(Ce.a,{sm:3,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"text",disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t,r,s])},value:e.values[t][r][s],placeholder:M().enter+" "+s})})}):Array.isArray(c)?0===c.length?s+" is empty":Object(U.jsx)(we.a,{children:Object(U.jsx)(te.a,{defaultActiveKey:"0",children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsxs)(te.a.Header,{children:[Object(U.jsx)("b",{children:s})," : ",ge(c)," items"]}),Object(U.jsx)(te.a.Body,{children:a.a.Children.toArray(c.map((function(n,i){if(n.constructor===Object){var c=Object.entries(n);return Object(U.jsxs)(we.a,{children:[Object(U.jsx)(Ce.a,{sm:1,style:{borderRightStyle:"dotted",borderRightWidth:"1px"}}),Object(U.jsx)(Ce.a,{sm:1,children:Object(U.jsx)(h.a,{disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],variant:"link",size:"sm",onClick:function(n){n.preventDefault(),e.arrayDeleteCallback([t,r,s,i])},children:Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),a.a.Children.toArray(c.map((function(n){var a=Object(l.a)(n,2),c=a[0],o=a[1];return Object(U.jsx)(Ce.a,{sm:3,children:Object(U.jsx)(Se.a.Group,{className:"mb-3",children:Object(U.jsx)(Se.a.Control,{type:"text",disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],onChange:function(n){n.preventDefault(),e.handleChangesCallback(n.target.value,[t,r,s,i,c])},value:o,placeholder:M().enter+" "+c})})})})))]})}return"number"===typeof n?Object(U.jsxs)(we.a,{children:[Object(U.jsx)(Ce.a,{sm:1,children:Object(U.jsx)(h.a,{disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],variant:"link",size:"sm",onClick:function(n){n.preventDefault(),e.arrayDeleteCallback([t,r,s,i])},children:Object(U.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(U.jsx)(Ce.a,{sm:3,children:Object(U.jsx)(Se.a.Control,{type:"number",disabled:void 0!==e.disabledFields[s]&&e.disabledFields[s],onChange:function(n){n.preventDefault(),e.handleChangesCallback(parseInt(n.target.value,10),[t,r,s,i])},value:isNaN(n)?"":n,placeholder:M().enter+" "+s},""+t+r+s+i)})]}):"string"===typeof n?"TODO string":void 0})))})]})})}):void 0})))]})})))})]})}(s)}return c.constructor===Object?"TODO":""})))]}),Object(U.jsx)(h.a,{variant:"primary",type:"submit",children:M().submit},"submit"),Object(U.jsx)(h.a,{variant:"secondary",onClick:e.backFunction,children:M().cancel},"cancel")]})},Ae=n(73);function Fe(e){var t=Object(b.h)(),n=t.resource,i=t.id,s=Object(r.useState)(),d=Object(l.a)(s,2),j=d[0],h=d[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),O=f[0],m=f[1],x=Object(b.g)(),v=Object(r.useState)(Ae(L[n])),g=Object(l.a)(v,2),y=g[0],k=g[1],w=Object(r.useState)({}),C=Object(l.a)(w,2),N=C[0],_=(C[1],Object(r.useState)(void 0)),A=Object(l.a)(_,2),D=A[0],I=A[1],T=Object(r.useState)(!1),P=Object(l.a)(T,2),R=(P[0],P[1]);a.a.useRef({});Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r,a,s,c,l,d,j,b,p,f,O,m,x,v,g,w,C=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.length>0&&void 0!==C[0]?C[0]:{},e.next=3,F(n,t);case 3:r=e.sent,a=r.docs[0],s=Ae(y),c=Object.entries(a),l=0;case 8:if(!(l<c.length)){e.next=36;break}if(!Array.isArray(c[l][1])){e.next=33;break}if(0!==c[l][1].length){e.next=12;break}return e.abrupt("continue",33);case 12:if(c[l][1][0].constructor!==Object){e.next=25;break}d=0;case 14:if(!(d<c[l][1].length)){e.next=23;break}if(void 0!==L[n][c[l][0]][0]){e.next=17;break}return e.abrupt("continue",20);case 17:j=Object(xe.a)({},L[n][c[l][0]][0]),Object.assign(j,c[l][1][d]),c[l][1][d]=j;case 20:d++,e.next=14;break;case 23:e.next=33;break;case 25:b=0;case 26:if(!(b<c[l][1].length)){e.next=33;break}if(void 0!==L[n][c[l][0]]&&void 0!==L[n][c[l][0]][0]){e.next=29;break}return e.abrupt("continue",30);case 29:c[l][1][b]=c[l][1][b];case 30:b++,e.next=26;break;case 33:l++,e.next=8;break;case 36:for(Object.assign(s,a),p=Object.keys(s),f=Object.keys(L[n]),console.log({keys:p,requestedKeys:f}),O=0;O<p.length;O++)if(f.includes(p[O])){if(L[n][p[O]].constructor===Object);else if(Array.isArray(L[n][p[O]])&&L[n][p[O]][0].constructor===Object)for(m=Object.keys(L[n][p[O]][0]),x=Object.keys(s[p[O]][0]),v=0;v<s[p[O]].length;v++)for(g=0;g<x.length;g++)m.includes(x[g])||delete s[p[O]][v][x[g]]}else delete s[p[O]];w=function(){var e=Object(o.a)(u.a.mark((function e(){var t,r,a,c,o,l,d,j,b,p,f,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==H[n]){e.next=7;break}for(I({}),t=Object.keys(s),r=0;r<t.length;r++)a=t[r],s=z(s,[a]);return k(s),h(Ae(s)),e.abrupt("return");case 7:c={},void 0!==D&&(c=D),o=Object.entries(H[n]),l=0;case 11:if(!(l<o.length)){e.next=24;break}if(d=o[l][0],j=o[l][1],void 0!==s[d]){e.next=16;break}return e.abrupt("continue",21);case 16:if("disable"!==j.type){e.next=21;break}return e.next=19,j.policy(i);case 19:b=e.sent,c[d]=b;case 21:l++,e.next=11;break;case 24:for(p=Object.keys(s),f=0;f<p.length;f++)O=p[f],void 0!==c[O]&&!1!==c[O]||(s=z(s,[O]));I(c),k(s),h(Ae(s));case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w();case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={_id:i};e({filter:JSON.stringify(t)}),R(!0)}),[]);var z=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=Ae(e),i=a,s=Ae(L[n]),o=Object(c.a)(t),l=0;l<o.length&&void 0!==t[l];l++)i=i[t[l]];for(var d=0;d<o.length&&void 0!==t[d]&&void 0!==s;d++)s="number"===typeof t[d]?s[0]:s[t[d]];return Array.isArray(s)?(void 0!==s&&(0===i.length?s[0].constructor===Object?i.push(Object(xe.a)({},s[0])):i.push(""):i[0].constructor===Object?0===i.filter((function(e){return ve(e)})).length&&i.push(Object(xe.a)({},s[0])):i.includes("")||i.push("")),void 0!==r&&void 0===s&&(0===i.length||0===i.filter((function(e){return ve(e)})).length)&&(r.constructor===Object?i.push(Object(xe.a)({},r)):i.push(r)),a):a},B=function(){var e=Object(o.a)(u.a.mark((function e(t){var r,a,s,o,l,d,b,h,p,f,O,v,g,k,w,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),r=Ae(y),a=Ae(j),ye(r),ye(a),s={},o=Object.entries(r),l=0;l<o.length;l++)if(d=o[l][0],b=o[l][1],Array.isArray(b)){if(void 0===s[d]&&(s[d]={add:[],remove:[],update:[]}),h=Object(c.a)(a[d]),void 0!==N[d])for(p=0;p<N[d].indexes.length;p++)(f=h.splice(N[d].indexes[p][0],1)[0]).constructor===Object?(O=Object.keys(f)[0],s[d].remove.push(f[O])):s[d].remove.push(f);for(v=0;v<r[d].length;v++)v<h.length&&!ke(r[d][v],h[v])&&(r[d][v].constructor===Object?(k=Object.keys(h[v])[0],s[d].update.push((g={},Object(me.a)(g,k,h[v][k]),Object(me.a)(g,"new",r[d][v]),g))):(s[d].add.push(r[d][v]),s[d].remove.push(h[v]))),v>=h.length&&s[d].add.push(r[d][v]);ke(s[d],{add:[],remove:[],update:[]})&&delete s[d]}else b.constructor===Object||b!==j[d]&&(s[d]=b);return e.prev=8,e.next=11,S(n,s,i);case 11:C=e.sent,w=C.response,m(w.statusText),x("/"+n),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),w=e.t0.error.response,m(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"page",children:[Object(U.jsxs)("header",{className:"page-header",children:["Edit \xa0",Object(U.jsx)("b",{children:n}),"\xa0of id:\xa0",Object(U.jsx)("b",{children:i}),"\xa0from:"]}),Object(U.jsxs)("main",{className:"page-content",children:[Object(U.jsx)(_e,{values:y,resource:n,functionalFields:L,disabledFields:D,handleChangesCallback:function(e,t){var n,r=Ae(y),a=r,i=-1;for(n=0;n<t.length-1;n++)a=a[t[n]],"number"===typeof t[n]&&(i=n);if("number"===typeof t[n]&&(i=n),a[t[n]]=e,-1!==i){var s="number"===typeof e?NaN:"";r=z(r,t.slice(0,i),s)}k(r)},arrayDeleteCallback:function(e){var t,n=Ae(y),r=n;for(t=0;t<e.length-1&&void 0!==e[t];t++)r=r[e[t]];var a=r.splice(e[t],1),i="number"===typeof a[0]?NaN:"";n=z(n,e.slice(0,t),i),1===t&&(void 0===N[e[0]]&&(N[e[0]]={indexes:[],elements:[],minDel:1/0}),ve(a[0])||(N[e[0]].elements.push(a[0]),N[e[0]].indexes.push(e[t]>=N[e[0]].minDel?e[t]+N[[e[0]]].indexes.filter((function(n){return n>=e[t]})).length:e[t]),e[t]<N[e[0]].minDel&&(N[e[0]].minDel=e[t]))),k(n)},submitFunction:B,backFunction:function(e){e.preventDefault(),x(-1)}}),Object(U.jsx)("br",{}),Object(U.jsx)("font",{style:{marginLeft:"5px"},children:O})]})]})}var De=n(178),Ie=n(73);function Te(e){var t=Object(b.h)().resource,n=Object(j.c)(),i=Object(l.a)(n,2),s=i[0];i[1];void 0!==e.resource&&(t=e.resource);var d=Object(b.g)(),p=Object(r.useState)("form"),f=Object(l.a)(p,2),O=f[0],m=f[1],x=Object(r.useState)(""),v=Object(l.a)(x,2),g=v[0],k=v[1],C=Object(r.useState)(Ie(K[t])),S=Object(l.a)(C,2),N=S[0],_=S[1],A=Object(r.useState)(void 0),D=Object(l.a)(A,2),I=D[0],T=D[1],P=Object(r.useState)(void 0),R=Object(l.a)(P,2),z=R[0],B=R[1],W=Object(r.useState)(void 0),E=Object(l.a)(W,2),L=E[0],H=E[1],J=Object(r.useState)(void 0),q=Object(l.a)(J,2),V=q[0],Y=q[1];if(Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var n,r,a,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,F(t,n);case 3:r=e.sent,a=Ie(N),Object.keys(a).map((function(e){if(void 0!==r.docs[0][e])if(Array.isArray(r.docs[0][e])){if(!ve(r.docs[0][e]))if(r.docs[0][e][0].constructor===Object){var t=Object.keys(a[e][0]),n=r.docs[0][e].map((function(e){var n={};return t.map((function(e){return n[e]=null})),Object.assign(n,e)}));a[e]=n.concat(a[e])}else a[e]=r.docs[0][e].concat(a[e])}else a[e]=r.docs[0][e]})),_(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(null!==s.get("from")&&""!==s.get("from")){var n={_id:s.get("from")};e({filter:JSON.stringify(n)})}}),[e,s]),void 0===K[t])return Object(U.jsx)("div",{children:"This entity cannot be posted"});var Q=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=Ie(e),i=a,s=Ie(K[t]),o=Object(c.a)(n),l=0;l<o.length&&void 0!==n[l];l++)i=i[n[l]];for(var d=0;d<o.length&&void 0!==n[d]&&void 0!==s;d++)s="number"===typeof n[d]?s[0]:s[n[d]];return Array.isArray(s)?(void 0!==s&&(0===i.length?s[0].constructor===Object?i.push(Object(xe.a)({},s[0])):i.push(""):i[0].constructor===Object?0===i.filter((function(e){return ve(e)})).length&&i.push(Object(xe.a)({},s[0])):i.includes("")||i.push("")),void 0!==r&&void 0===s&&(0===i.length||0===i.filter((function(e){return ve(e)})).length)&&(r.constructor===Object?i.push(Object(xe.a)({},r)):i.push(r)),a):a},X=function(){var e=Object(o.a)(u.a.mark((function e(n){var r,a,i,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=void 0,void 0!==(a=Ie(N)).token&&(r=a.token,delete a.token),i=Ie(a),ye(i),e.prev=6,e.next=9,w(t,JSON.stringify(i),r);case 9:c=e.sent,s=c.response,k(s.statusText),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),s=e.t0.error.response,k(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 19:200===s.status&&1==window.confirm("Back to resource page?")&&d("tenants"===t?"/":"/"+t);case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(u.a.mark((function e(n){var r,a,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!I.name.endsWith(".csv")){e.next=17;break}return(a=new FormData).append("file",I),e.prev=4,e.next=7,y(t,a);case 7:i=e.sent,r=i.response,k(r.statusText),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),r=e.t0.error.response,k(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 17:if(!I.name.endsWith(".json")){e.next=32;break}return console.log(V),e.prev=19,e.next=22,w(t,V,void 0);case 22:s=e.sent,r=s.response,k(r.statusText),e.next=32;break;case 27:e.prev=27,e.t1=e.catch(19),console.log(e.t1),r=e.t1.error.response,k(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details);case 32:200===r.status&&1==window.confirm("Back to resource page?")&&d("/"+t);case 33:case"end":return e.stop()}}),e,null,[[4,12],[19,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"page",children:[Object(U.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(U.jsx)("b",{children:t})]}),Object(U.jsxs)("main",{className:"page-content",children:[Object(U.jsxs)(De.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return m(e)},defaultActiveKey:"form",children:[G[t].includes("form")&&Object(U.jsx)(De.a.Item,{children:Object(U.jsx)(De.a.Link,{eventKey:"form",children:"Form"})}),G[t].includes("file")&&null===s.get("from")&&Object(U.jsx)(De.a.Item,{children:Object(U.jsx)(De.a.Link,{eventKey:"file",children:"File"})})]}),Object(U.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===O&&Object(U.jsxs)("div",{style:{margin:"5px"},children:[Object(U.jsx)(_e,{values:N,resource:t,functionalFields:K,disabledFields:{},handleChangesCallback:function(e,t){var n,r=Ie(N),a=r,i=-1;for(n=0;n<t.length-1;n++)a=a[t[n]],"number"===typeof t[n]&&(i=n);a[t[n]]=e,-1!==i&&(r=Q(r,t.slice(0,i))),_(r)},arrayDeleteCallback:function(e){var t,n=Ie(N),r=n;for(t=0;t<e.length-1&&void 0!==e[t];t++)r=r[e[t]];r.splice(e[t],1),n=Q(n,e.slice(0,t)),_(n)},submitFunction:X,backFunction:function(e){e.preventDefault(),d(-1)}}),Object(U.jsx)("br",{}),Object(U.jsx)("font",{style:{marginLeft:"5px"},children:g})]}),"file"===O&&Object(U.jsx)("div",{style:{margin:"5px"},children:Object(U.jsxs)(Se.a,{onSubmit:Z,children:[Object(U.jsx)(Se.a.Label,{children:Object(U.jsx)("b",{children:M().select_file})}),Object(U.jsx)(Se.a.Control,{className:"mb-3",type:"file",accept:".csv, .json",label:"File",onChange:function(e){var t=e.target.files[0];T(t),console.log(t);var n=new FileReader;n.onloadend=function(){var e=n.result;if(t.name.endsWith(".csv")){var r=new RegExp("\r","g"),a=e.replace(r,"").split("\n");B(a[0]),a.splice(0,1),H(a)}if(t.name.endsWith(".json")){var i=n.result;Y(i)}},n.readAsText(t)}}),void 0!==L&&void 0!==z&&Object(U.jsx)(te.a,{children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsx)(te.a.Header,{children:M().file_content}),Object(U.jsx)(te.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(U.jsxs)(ee.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)("tr",{children:a.a.Children.toArray(z.split(",").map((function(e){return Object(U.jsx)("th",{children:e})})))})}),Object(U.jsx)("tbody",{children:a.a.Children.toArray(L.map((function(e){return Object(U.jsx)("tr",{children:a.a.Children.toArray(e.split(",").map((function(e){return Object(U.jsx)("td",{children:e})})))})})))})]})})]})}),void 0!==V&&Object(U.jsx)(te.a,{children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsx)(te.a.Header,{children:M().file_content}),Object(U.jsx)(te.a.Body,{style:{overflow:"scroll",height:"70vh"},children:V})]})}),Object(U.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(U.jsx)("br",{}),Object(U.jsx)("font",{style:{marginLeft:"5px"},children:g})]})})]})]})]})}var Pe=n(73);function Re(e){var t="experiments",n=Object(j.c)(),i=Object(l.a)(n,2),s=i[0],d=(i[1],Object(b.g)()),p=Object(r.useState)("form"),f=Object(l.a)(p,2),O=f[0],m=f[1],x=Object(r.useState)(""),v=Object(l.a)(x,2),g=v[0],k=v[1],C=Object(r.useState)(Pe(K[t])),S=Object(l.a)(C,2),N=S[0],_=S[1],A=Object(r.useState)({}),D=Object(l.a)(A,2),I=D[0],T=D[1],P=Object(r.useState)(),R=Object(l.a)(P,2),z=R[0],B=R[1],W=Object(r.useState)(),E=Object(l.a)(W,2),L=(E[0],E[1]),H=Object(r.useState)(void 0),J=Object(l.a)(H,2),q=J[0],V=J[1],Y=Object(r.useState)(void 0),Q=Object(l.a)(Y,2),X=Q[0],Z=Q[1],$=Object(r.useState)(void 0),ne=Object(l.a)($,2),re=ne[0],ae=ne[1],ie=Object(r.useState)(void 0),se=Object(l.a)(ie,2),ce=se[0],oe=se[1];if(Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,F("protocols",t);case 3:n=e.sent,B(n.docs.map((function(e){return e._id})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e({limit:100})}),[e,s]),void 0===K[t])return Object(U.jsx)("div",{children:"This entity cannot be posted"});var le=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,r,a,i,s,c,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.value,r={_id:t.target.value},a={filter:JSON.stringify(r)},e.next=6,F("protocols",a);case 6:for(i=e.sent,s=i.docs[0],c=[],o=0;o<s.metadata.length;o++)"scalar"===s.metadata[o].type&&c.push({name:s.metadata[o].name,value:NaN}),"text"===s.metadata[o].type&&c.push({name:s.metadata[o].name,value:""}),"vector"===s.metadata[o].type&&c.push({name:s.metadata[o].name,value:[NaN]});(l=Pe(N)).protocol=n,0!==c.length&&(l.metadata=c),(d=Pe(I)).protocol=!0,T(d),L(n),_(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=Pe(e),i=a,s=Pe(K[t]),o=Object(c.a)(n),l=0;l<o.length&&void 0!==n[l];l++)i=i[n[l]];for(var d=0;d<o.length&&void 0!==n[d]&&void 0!==s;d++)s="number"===typeof n[d]?s[0]:s[n[d]];return void 0===s||Array.isArray(s)?(void 0!==s&&(0===i.length?s[0].constructor===Object?i.push(Object(xe.a)({},s[0])):i.push(""):i[0].constructor===Object?0===i.filter((function(e){return ve(e)})).length&&i.push(Object(xe.a)({},s[0])):i.includes("")||i.push("")),void 0!==r&&void 0===s&&(0===i.length||0===i.filter((function(e){return ve(e)})).length)&&(r.constructor===Object?i.push(Object(xe.a)({},r)):i.push(r)),a):a},ue=function(){var e=Object(o.a)(u.a.mark((function e(n){var r,a,i,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=void 0,void 0!==(a=Pe(N)).token&&(r=a.token,delete a.token),i=Pe(a),ye(i),e.prev=6,e.next=9,w(t,JSON.stringify(i),r);case 9:c=e.sent,s=c.response,k(s.statusText),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0),s=e.t0.error.response,k(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 19:200===s.status&&1==window.confirm("Back to resource page?")&&d("/"+t);case 20:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(o.a)(u.a.mark((function e(n){var r,a,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!q.name.endsWith(".csv")){e.next=17;break}return(a=new FormData).append("file",q),e.prev=4,e.next=7,y(t,a);case 7:i=e.sent,r=i.response,k(r.statusText),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),r=e.t0.error.response,k(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 17:if(!q.name.endsWith(".json")){e.next=32;break}return console.log(ce),e.prev=19,e.next=22,w(t,ce,void 0);case 22:s=e.sent,r=s.response,k(r.statusText),e.next=32;break;case 27:e.prev=27,e.t1=e.catch(19),console.log(e.t1),r=e.t1.error.response,k(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details);case 32:200===r.status&&1==window.confirm("Back to resource page?")&&d("/"+t);case 33:case"end":return e.stop()}}),e,null,[[4,12],[19,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"page",children:[Object(U.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(U.jsx)("b",{children:t})]}),Object(U.jsxs)("main",{className:"page-content",children:[Object(U.jsxs)(De.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){return m(e)},defaultActiveKey:"form",children:[G[t].includes("form")&&Object(U.jsx)(De.a.Item,{children:Object(U.jsx)(De.a.Link,{eventKey:"form",children:"Form"})}),G[t].includes("file")&&null===s.get("from")&&Object(U.jsx)(De.a.Item,{children:Object(U.jsx)(De.a.Link,{eventKey:"file",children:"File"})})]}),Object(U.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===O&&void 0!==z&&Object(U.jsxs)("div",{style:{margin:"5px"},children:[Object(U.jsxs)(Se.a.Select,{"aria-label":M().select+" protocol",onChange:le,children:[Object(U.jsxs)("option",{children:[M().select," protocol"]}),a.a.Children.toArray(z.map((function(e){return Object(U.jsx)("option",{value:e,children:e})})))]}),Object(U.jsx)("br",{}),Object(U.jsx)(_e,{values:N,resource:t,functionalFields:K,disabledFields:I,handleChangesCallback:function(e,t){var n,r=Pe(N),a=r,i=-1;for(n=0;n<t.length-1;n++)a=a[t[n]],"number"===typeof t[n]&&(i=n);if("number"===typeof t[n]&&(i=n),a[t[n]]=e,-1!==i){var s="number"===typeof e?NaN:"";r=de(r,t.slice(0,i),s)}_(r)},arrayDeleteCallback:function(e){var t,n=Pe(N),r=n;for(t=0;t<e.length-1&&void 0!==e[t];t++)r=r[e[t]];var a="number"===typeof r.splice(e[t],1)[0]?NaN:"";n=de(n,e.slice(0,t),a),_(n)},submitFunction:ue,backFunction:function(e){e.preventDefault(),d(-1)}}),Object(U.jsx)("br",{}),Object(U.jsx)("font",{style:{marginLeft:"5px"},children:g})]}),"file"===O&&Object(U.jsx)("div",{style:{margin:"5px"},children:Object(U.jsxs)(Se.a,{onSubmit:je,children:[Object(U.jsx)(Se.a.Label,{children:Object(U.jsx)("b",{children:M().select_file})}),Object(U.jsx)(Se.a.Control,{className:"mb-3",type:"file",accept:".csv, .json",label:"File",onChange:function(e){var t=e.target.files[0];V(t),console.log(t);var n=new FileReader;n.onloadend=function(){var e=n.result;if(t.name.endsWith(".csv")){var r=new RegExp("\r","g"),a=e.replace(r,"").split("\n");Z(a[0]),a.splice(0,1),ae(a)}if(t.name.endsWith(".json")){var i=n.result;oe(i)}},n.readAsText(t)}}),void 0!==re&&void 0!==X&&Object(U.jsx)(te.a,{children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsx)(te.a.Header,{children:M().file_content}),Object(U.jsx)(te.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(U.jsxs)(ee.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)("tr",{children:a.a.Children.toArray(X.split(",").map((function(e){return Object(U.jsx)("th",{children:e})})))})}),Object(U.jsx)("tbody",{children:a.a.Children.toArray(re.map((function(e){return Object(U.jsx)("tr",{children:a.a.Children.toArray(e.split(",").map((function(e){return Object(U.jsx)("td",{children:e})})))})})))})]})})]})}),void 0!==ce&&Object(U.jsx)(te.a,{children:Object(U.jsxs)(te.a.Item,{eventKey:"0",children:[Object(U.jsx)(te.a.Header,{children:M().file_content}),Object(U.jsx)(te.a.Body,{style:{overflow:"scroll",height:"70vh"},children:ce})]})}),Object(U.jsx)(h.a,{variant:"primary",type:"submit",children:"Submit"}),Object(U.jsx)("br",{}),Object(U.jsx)("font",{style:{marginLeft:"5px"},children:g})]})})]})]})]})}var ze=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=localStorage.getItem("diten-token");function s(e){a((function(t){return[e].concat(t)}))}function d(e){var t=Object(c.a)(n);t.splice(e,1),a(t)}function h(){a([])}Object(r.useEffect)((function(){var e=function(){var e=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("types",{},"");case 3:t=e.sent,n=t.response.data,Oe=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(void 0===Oe)try{e()}catch(t){console.log(t)}}),[]);var p={notifications:n,PushNotification:s,RemoveNotification:d,ClearNotifications:h};return v.ClearNotifications=h,v.PushNotification=s,v.RemoveNotification=d,null===i?Object(U.jsx)("div",{className:"app",children:Object(U.jsx)(j.a,{children:Object(U.jsxs)(b.d,{children:[Object(U.jsx)(b.b,{path:"/",element:Object(U.jsx)(V,{})}),Object(U.jsx)(b.b,{path:"/add/tenants",element:Object(U.jsx)(Te,{resource:"tenants"})})]})})}):Object(U.jsx)(pe.Provider,{value:p,children:Object(U.jsx)("div",{className:"app",children:Object(U.jsxs)(j.a,{children:[Object(U.jsxs)("aside",{children:[Object(U.jsx)(j.b,{to:"/home",className:"nav-wrap",children:"Admin Dashboard"}),Object(U.jsx)($,{})]}),Object(U.jsx)("div",{className:"main",children:Object(U.jsxs)(b.d,{children:[Object(U.jsx)(b.b,{path:"/",element:Object(U.jsx)(Y,{})}),Object(U.jsx)(b.b,{path:"/home",element:Object(U.jsx)(Y,{})}),Object(U.jsx)(b.b,{path:"/add/experiments/",element:Object(U.jsx)(Re,{})}),Object(U.jsx)(b.b,{path:"/edit/:resource/:id",element:Object(U.jsx)(Fe,{})}),Object(U.jsx)(b.b,{path:"/add/:resource/",element:Object(U.jsx)(Te,{})}),Object(U.jsx)(b.b,{path:"/:page",element:Object(U.jsx)(le,{res:":page"})}),Object(U.jsx)(b.b,{path:"/unauthorized",element:Object(U.jsx)(de,{})}),Object(U.jsx)(b.b,{path:"/404",element:Object(U.jsx)(Q,{})}),Object(U.jsx)(b.b,{path:"*",element:Object(U.jsx)(b.a,{to:"/404",replace:!0})})]})}),Object(U.jsx)("div",{className:"right-bar",children:Object(U.jsx)(fe,{})})]})})})};s.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(ze,{})}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.33c2ba85.chunk.js.map