(this["webpackJsonpmeasurify-dashboard"]=this["webpackJsonpmeasurify-dashboard"]||[]).push([[0],{108:function(e,t,r){},123:function(e,t,r){},222:function(e,t,r){},248:function(e,t){},250:function(e,t){},265:function(e,t,r){},269:function(e,t,r){},270:function(e,t,r){},271:function(e,t,r){},272:function(e,t,r){},273:function(e,t,r){},274:function(e,t,r){},275:function(e,t,r){},284:function(e,t,r){"use strict";r.r(t);var a,n=r(1),s=r.n(n),c=r(38),i=r.n(c),o=(r(222),r(6)),l=r(9),d=r(4),u=r(5),j=r(19),b=r(3),p=r(23),h=r(16),f=r(323),O={username:"Nome utente",password:"Password",tenant:"Organizzazione",email:"email",keep_logged:"Mantieni Accesso",select:"Seleziona",language:"Lingua",welcome:"Bentornato",role:"Ruolo",session_expire_in:"La sessione scadr\xe0 in ",resources:"Risorse",tools:"Strumenti",notifications:"Notifiche",file_content:"Contenuto del file",preview:"Anteprima",configuration:"Configurazione",clear_all:"Cancella tutto",no_changes_found:"Nessun cambiamento trovato",resource_successfully_edited:"Resoursa modificata con successo!",resource_successfully_posted:"Resource successufully posted!",enter:"Inserisci",username_suggestion:"Inserisci il nome utente",password_suggestion:"Inserisci la password",tenant_suggestion:"Inserisci la tua organizzazione",email_suggestion:"Inserisci la tua email",add_tenant:"Aggiungi organizzazione",welcome_hp:"Benvenuto nel pannello di controllo di Measurify!",left_bar_descr_hp:"Nella barra a sinistra sono presenti le informazioni relative al tuo account e i collegamenti alle pagine.",right_bar_descr_hp:'La barra a destra pu\xf2 essere aperta cliccando sul pulsante "Notifiche" per mostrare la lista delle notifiche.',session_expire_info_hp:"",github_page_hp:"Pagina Github di Measurify",github_issue_page_hp:"Segnala bug o problemi",profile_page_desc:"questa \xe8 la pagina in cui puoi visionare il tuo profilo o modificare la password",pass_change_confirm:"La password verr\xe0 modificata, procedere?",email_change_confirm:"L'indirizzo email verr\xe0 modificato, procedere?",password_changed:"Password cambiata con successo",email_changed:"Email cambiata con successo",password_rules:"La password deve contenere almeno 6 caratteri, almeno una lettera maiuscola e un numero.",oh_no:"Oh No!",broken_link:"Sembra che tu abbia utilizzato un collegamento non funzionante.",submit:"Invio",cancel:"Annulla",login:"Accedi",logout:"Esci",repeat:"Ripeti",close:"Chiudi",import:"Importa",export:"Esporta",password_recovery:"Recupero Password",password_reset:"Reset Password",forgot_password_link:"Hai dimenticato la tua password?",go_login_page:"Torna alla pagina di login",email_sent_successfully:"Email inviata, segui le istruzioni contenute per cambiare la tua password",login_error:"Login errata!",unauthorised_user:"Non sei abilitato a utilizzare questa pagina",session_expired:"Sessione scaduta",no_file:"Si prega di selezionare un file",duplicate_resource_error:"Nel database \xe8 gi\xe0 presente una risorsa con",error_imported_file:"Nel file sono presenti errori, non \xe8 stato possibile importarlo",pass_not_match:"La password inserita e la conferma non combaciano, si prega di reinserirle.",old_pass_empty:"Per favore, inserire la vecchia password",old_pass_wrong:"La vecchia password \xe8 sbagliata",pass_not_null:"La password non pu\xf2 essere vuota",missing_tenant:"Si prega di inserire l'organizzazione",missing_email:"Si prega di inserire l'email",missing_token:"Si prega di inserire il token",missing_password:"Si prega di inserire la propria password",missing_username:"Si prega di inserire il proprio username",stronger_password_required:"Si prega di inserire una password pi\xf9 robusta",email_sent_errors:"Non \xe8 stato possibile inviare la mail, controllare i dati inseriti.",password_not_changed_errors:"Non \xe8 stato possibile cambiare la password.",network_error:"Errore di rete, si prega di controllare la connessione.",empty_email_error:"Il campo email \xe8 vuoto, si prega di inserire un indirizzo email valido.",email_not_match:"L'indirizzo email inserito e la sua conferma non combaciano, si prega di reinserirle.",email_same_as_old:"La nuova email coincide con quella vecchia, si prega di inserire un indirizzo email diverso dal precedente.",generic_file_post_error:"Il file selezionato non pu\xf2 essere caricato perch\xe9 contiene errori."},x={username:"Username",password:"Password",tenant:"Tenant",email:"Email",keep_logged:"Keep Logged In",select:"Select",language:"Language",welcome:"Welcome back",role:"Role",session_expire_in:"Session will expire in ",resources:"Resources",tools:"Tools",notifications:"Notifications",file_content:"File content",preview:"Preview",configuration:"Configuration",clear_all:"Clear all",no_changes_found:"No changes found",resource_successfully_edited:"Resource successfully edited!",resource_successfully_posted:"Resource successufully posted!",enter:"Enter",username_suggestion:"Insert your username",password_suggestion:"Insert your password",tenant_suggestion:"Insert your tenant",email_suggestion:"Insert your email",add_tenant:"Add tenant",welcome_hp:"Welcome to the Administration dashboard!",left_bar_descr_hp:"The left bar contains the information about your account and  the list of tabs",right_bar_descr_hp:'The right bar contains the notification bar (Click on "Notifications" to open).',session_expire_info_hp:"",github_page_hp:"",github_issue_page_hp:"Report bugs or issues",profile_page_desc:"from this page you can view your own profile or change the password",pass_change_confirm:"Password will be changed, do you confirm?",email_change_confirm:"Email address will be changed, do you confirm?",password_changed:"Password changed successfully",email_changed:"Email changed successfully",password_rules:"Password length should be at least 6 characters, contains at least one uppercase character and one number.",forgot_password_link:"Have you forgot your password?",go_login_page:"Go to login page",oh_no:"Oh No!",broken_link:"It looks like you have clicked on a broken link.",submit:"Submit",cancel:"Cancel",login:"Login",logout:"Logout",repeat:"Repeat",close:"Close",import:"Import",export:"Export",password_recovery:"Password Recovery",password_reset:"Reset Password",email_sent_successfully:"Email sent, please follow the provided instruction to reset the password",login_error:"Wrong login!",unauthorised_user:"You are not allowed to use this page",session_expired:"Session expired",no_file:"Please, select a file",duplicate_resource_error:"The database already contains a resource with",error_imported_file:"File contains errors. It was not possible to import it",pass_not_match:"Provided password and the confirmation do not match. Please insert them again",old_pass_empty:"Please, enter old password",old_pass_wrong:"The old password is wrong",pass_not_null:"Password cannot be empty",missing_tenant:"Please, insert your tenant",missing_email:"Please, insert your email",missing_token:"Please, insert your token",missing_password:"Please, insert your password",missing_username:"Please, insert your username",stronger_password_required:"Please, insert stronger password",email_sent_errors:"It was not possible to send the mail, please check the provided info.",password_not_changed_errors:"It was not possible to change the password.",network_error:"Network error, please check internet connection",empty_email_error:"Email field is empty, please insert a valid email address.",email_not_match:"Provided email and the confirmation do not match. Please insert them again.",email_same_as_old:"The new email is the same as the old email. Please insert a different email address.",generic_file_post_error:"The selected file cannot be uploaded because it contains errors."},m=r(223).default,v=r(241),g=m.create({httpsAgent:new v.Agent({})}),y={PushNotification:function(e){},RemoveNotification:function(e){},ClearNotifications:function(){}};function w(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s={username:"".concat(e),password:"".concat(t),tenant:"".concat(r)},c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},i=a+"/login";return new Promise((function(e,t){g.post(i,s,c).then((function(t){!0===n&&(localStorage.setItem("token",t.data.token),localStorage.setItem("token-expiration-time",t.data.token_expiration_time),localStorage.setItem("username",t.data.user.username),localStorage.setItem("user-role",t.data.user.type),localStorage.setItem("user-email",t.data.user.email),localStorage.setItem("user-tenant",r),localStorage.setItem("login-time",(new Date).getTime().toString())),e(t)})).catch((function(e){t(e)}))}))}function k(){var e={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:M()}},t=a+"/login";return new Promise((function(r,a){g.put(t,{},e).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("login-time",(new Date).getTime().toString()),localStorage.setItem("token-expiration-time",e.data.token_expiration_time),r(e)})).catch((function(e){a(e)}))}))}function _(e,t){return C.apply(this,arguments)}function C(){return C=Object(l.a)(Object(o.a)().mark((function e(t,r){var n,s,c,i,l,d=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:{},void 0===(s=d.length>3&&void 0!==d[3]?d[3]:void 0)&&(s=M()),c=a+"/"+t+"/file",console.log("POST file:"+c),i={"Content-Type":"multipart/form-data","Cache-Control":"no-cache",Authorization:s},Object.entries(n).forEach((function(e){var t=Object(b.a)(e,2),r=t[0],a=t[1];i[r]=a})),l={headers:i},e.abrupt("return",new Promise((function(e,a){g.post(c,r,l).then((function(r){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of file on: "+t}),e({response:r})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of file on: "+t}),a({error:e})}))})));case 9:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function S(e,t){return N.apply(this,arguments)}function N(){return N=Object(l.a)(Object(o.a)().mark((function e(t,r){var n,s,c,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===(n=i.length>2&&void 0!==i[2]?i[2]:void 0)&&(n=M()),s=a+"/"+t+"/",console.log("POST :"+s),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:n}},e.abrupt("return",new Promise((function(e,a){g.post(s,r,c).then((function(r){y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful POST of a resource type: "+t}),e({response:r})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a POST of a resource type: "+t}),a({error:e})}))})));case 6:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function A(e,t,r){return D.apply(this,arguments)}function D(){return D=Object(l.a)(Object(o.a)().mark((function e(t,r,n){var s,c,i,l=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a+"/"+t+"/"+n,void 0===(s=l.length>3&&void 0!==l[3]?l[3]:void 0)&&(s=M()),console.log("PUT :"+c),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:s}},e.abrupt("return",new Promise((function(e,a){g.put(c,r,i).then((function(a){void 0!==r.password&&(r.password="".padStart(r.password.length,"*")),y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Successful PUT of a resource type: "+t+", id: "+n+", body: "+JSON.stringify(r)}),e({response:a})})).catch((function(e){void 0!==r.password&&(r.password="".padStart(r.password.length,"*")),y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Error doing a PUT on resource type: "+t+", id: "+n+", body: "+JSON.stringify(r)+". "+e.message}),a({error:e})}))})));case 6:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function P(e,t){return R.apply(this,arguments)}function R(){return R=Object(l.a)(Object(o.a)().mark((function e(t,r){var n,s,c,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a+"/"+t,void 0===(n=i.length>2&&void 0!==i[2]?i[2]:void 0)&&(n=M()),void 0!==r&&(s+="/"+r),console.log("DELETE :"+s),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:n}},e.abrupt("return",new Promise((function(e,a){g.delete(s,c).then((function(a){void 0!==r?y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resource: "+r+", of type: "+t}):y.PushNotification({name:"info",time:(new Date).toTimeString(),msg:"Deleted resources of type: "+t}),e({response:a})})).catch((function(e){y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"error deleting resource: "+r+", of type: "+t+". "+e.message}),404===e.statusCode&&y.PushNotification({name:"error",time:(new Date).toTimeString(),msg:"Please check if your user is authorized to delete the resource. "+e.message}),a({error:e})}))})));case 7:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return I=Object(l.a)(Object(o.a)().mark((function e(t){var r,n,s,c,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},s=a+"/"+t+"/",void 0===(n=i.length>2?i[2]:void 0)&&(n=M()),s=void 0!==r.filter?s.concat("?filter="+r.filter):s.concat("?filter="),void 0!==r.limit&&(s=s.concat("&limit="+r.limit)),void 0!==r.page&&(s=s.concat("&page="+r.page)),void 0!==r.select&&0!==r.length&&(s=s.concat('&select=["'+r.select.join('","')+'"]')),console.log("GET :"+s),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:n},json:!0},e.abrupt("return",new Promise((function(e,t){g.get(s,c).then((function(t){e({response:t,docs:t.data.docs,totalDocs:t.data.totalDocs,limit:t.data.limit,totalPages:t.data.totalPages,page:t.data.page,pagingCounter:t.data.pagingCounter,hasPrevPage:t.data.hasPrevPage,hasNextPage:t.data.hasNextPage,prevPage:t.data.prevPage,nextPage:t.data.nextPage})})).catch((function(e){t({error:e})}))})));case 11:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function F(e,t,r){return L.apply(this,arguments)}function L(){return(L=Object(l.a)(Object(o.a)().mark((function e(t,r,n){var s,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a+"/"+t+"/"+r,void 0===n&&(n=M()),console.log("GET ONE:"+s),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:n},json:!0},e.abrupt("return",new Promise((function(e,t){g.get(s,c).then((function(t){e({response:t})})).catch((function(e){t({error:e})}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return B.apply(this,arguments)}function B(){return(B=Object(l.a)(Object(o.a)().mark((function e(t,r){var n,s,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a+"/self/reset?tenant="+t,s=JSON.stringify({email:r}),console.log("POST password reset request:"+n),c={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},e.abrupt("return",new Promise((function(e,t){g.post(n,s,c).then((function(t){e({response:t})})).catch((function(e){t({error:e})}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,r){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(Object(o.a)().mark((function e(t,r,n){var s,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a+"/self",console.log("PUT password reset:"+s),c=JSON.stringify({reset:r,password:n,tenant:t}),i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},e.abrupt("return",new Promise((function(e,t){g.put(s,c,i).then((function(t){e({response:t})})).catch((function(e){t({error:e})}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return W.apply(this,arguments)}function W(){return(W=Object(l.a)(Object(o.a)().mark((function e(){var t,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a+"/types/passwordStrength",console.log("GET password strength:"+t),r={headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},e.abrupt("return",new Promise((function(e,a){g.get(t,r).then((function(t){e({response:t})})).catch((function(e){a({error:e})}))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return localStorage.getItem("token")}function U(e){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(Object(o.a)().mark((function e(t){var r,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={filter:JSON.stringify({feature:t})},e.prev=1,e.next=4,T("measurements",r);case 4:if(!(e.sent.totalDocs>0)){e.next=9;break}return e.abrupt("return",!0);case 9:return a={filter:JSON.stringify({features:t})},e.next=12,T("devices",a);case 12:if(!(e.sent.totalDocs>0)){e.next=17;break}return e.abrupt("return",!0);case 17:return e.abrupt("return",!1);case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}function J(){return!0}function V(){var e={users:["username","type","_actions"],roles:["_id","_actions"],tags:["_id","_actions"],things:["_id","_actions"],features:["_id","_actions"],devices:["_id","tags","_actions"],protocols:["_id","description","_actions"],experiments:["_id","description","protocol","_actions"],measurements:["thing","feature","device","startDate","tags","_actions"]},t={features:{_actions:"Management"},tags:{_actions:"Management"},devices:{_actions:"Management"},things:{_actions:"Management"},users:{_actions:"Management"},roles:{_actions:"Management"},protocols:{_actions:"Management"},experiments:{_actions:"Management"},measurements:{_actions:"Management"}},r={users:["admin"],roles:["admin"],protocols:["admin"]},a={features:["view","edit","duplicate","delete"],users:["view","delete"],roles:["view","delete"],things:["view","delete"],tags:["view","edit","delete"],devices:["view","edit","delete"],protocols:["view","delete"],experiments:["view","edit","duplicate","delete"],measurements:["view","edit","delete"]},n={users:["username","type","email","fieldmask","status"],roles:["_id","default","actions"],features:[{items:["name","type","unit","dimension"]},"tags"],tags:["tags"],things:["_id","visibility","tags"],devices:["_id","features","tags","scripts"],protocols:["_id","description","metadata","topics"],experiments:["_id","description","state","startDate","endDate","manager","place","protocol","metadata","history"],measurements:["_id","thing","feature","device","startDate","visibility","tags","samples"]},s={experiments:{_id:"",description:"",state:NaN,startDate:"",endDate:"",manager:"",protocol:"",place:[{name:""}],metadata:[{name:"",value:""}],tags:[""]},features:{_id:"",items:[{name:"",type:"",unit:"",dimension:NaN}],tags:[""]},tags:{tags:[""]},devices:{visibility:"",tags:[""]},measurements:{tags:[""]}},c={tags:{_id:"",tags:[""]},things:{_id:"",visibility:"",tags:[""]},features:{_id:"",items:[{name:"",type:"",unit:"",dimension:NaN,range:[""]}],tags:[""]},devices:{_id:"",features:[""]},users:{username:"",password:"",email:"",type:""},roles:{_id:"",default:{create:!1,read:"",update:"",delete:""},actions:[{entity:"",crud:{create:!1,read:"",update:"",delete:""}}]},protocols:{_id:"",description:"",metadata:[{name:"",description:"",type:""}],topics:[{name:"",description:"",fields:[{name:"",description:"",type:""}]}]},experiments:{_id:"",description:"",state:NaN,startDate:"",endDate:"",manager:"",place:[{name:""}]},measurements:{thing:"",device:"",tags:[""]}},i={};i.features={_id:{_type:"disable",policy:U},items:{_type:"disable",policy:U}},i.experiments={protocol:{_type:"disable",policy:J},metadata:{name:{_type:"disable",policy:J}}};var o={tags:["form","file"],things:["form","file"],features:["form","file"],users:["form","file"],roles:["form","file"],devices:["form","file"],protocols:["form","file"],experiments:["form","file"],measurements:["form"]},l={users:{status:"UserStatusTypes"},roles:{default:{read:"RoleCrudTypes",update:"RoleCrudTypes",delete:"RoleCrudTypes"},actions:{crud:{read:"RoleCrudTypes",update:"RoleCrudTypes",delete:"RoleCrudTypes"}}},devices:{measurementBufferPolicy:"MeasurementBufferPolicyTypes",visibility:"VisibilityTypes"},things:{visibility:"VisibilityTypes"},tag:{visibility:"VisibilityTypes"}};l.things={visibility:"VisibilityTypes"},l.scripts={visibility:"VisibilityTypes"},l.rights={type:"RightTypes"},l.features={items:{type:"ItemTypes"}},l.measurements={visibility:"VisibilityTypes"},l.issues={type:"IssueTypes",status:"IssueStatusType"},l.protocols={metadata:{type:"MetadataTypes"},field:{type:"TopicFieldTypes"}},l.experiments={visibility:"VisibilityTypes"},l.constraints={type1:"ConstraintTypes",type2:"ConstraintTypes"};var d={users:{type:"roles"},tags:{tags:"tags"},things:{tags:"tags"},devices:{features:"features"},features:{tags:"tags"},measurements:{device:"devices",thing:"things",tags:"tags"}},u={protocols:{_id:"Please, enter protocol's name.",description:"Please, enter a short protocol's description."},experiments:{_id:"Please, enter experiment's name (N.B. don't use the # character in experiment's name).",state:"Please, enter 0 for ongoing experiment, 1 for finished experiment.",description:"Please, enter a short experiment's description.",manager:"Please, enter the experiment's company name (as a short Acronym).",startDate:"Please, use yyyy/mm/dd format.",endDate:"Please, use yyyy/mm/dd format."},updateHistory:{step:"Please, enter the step number."}};return{operationPages:["updatehistory","downloadexperiment","removesteps"],pages:e,aliasPages:t,restrictionPages:r,pageActions:a,viewFields:n,editFields:s,addFields:c,editFieldsSpecifier:i,addTypes:o,fetchedPageTypes:l,fetchedPageData:d,guidelines:u}}var q=void 0,Y="Measurify Dashboard",Q=[],X="vertical",Z=[],$={},ee={},te={},re={},ae={},ne={},se={},ce={},ie={},oe={},le={},de={};function ue(){var e=localStorage.getItem("language");return 0===Q.length?x:(1===Q.length&&(e=Q[0]),"it"===e?O:"en"===e?x:"it"===navigator.language.substring(0,2)?O:(navigator.language.substring(0,2),x))}var je=void 0;function be(){return pe.apply(this,arguments)}function pe(){return(pe=Object(l.a)(Object(o.a)().mark((function e(){var t,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("user-role"))&&void 0!==t&&""!==t){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,F("roles",t);case 6:void 0!==(r=e.sent)&&localStorage.setItem("role",JSON.stringify(r.response.data)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function he(e,t,r){if(void 0===je){var a=localStorage.getItem("role");if(void 0===a||null===a)return function(e,t,r){if("create"===r){if("admin"===e)return!0;if("provider"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}if("supplier"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}if("analyst"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}}if("read"===r){if("admin"===e)return!0;if("provider"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}if("supplier"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}if("analyst"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}}if("update"===r){if("admin"===e)return!0;if("provider"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}if("supplier"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}if("analyst"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}}if("delete"===r){if("admin"===e)return!0;if("provider"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!0}if("supplier"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}if("analyst"===e){if("users"===t)return!1;if("protocols"===t)return!1;if("experiments"===t)return!1}}return!1}(e,t,r);je=JSON.parse(a)}if(0!==je.actions.length){var n=je.actions.filter((function(e){return e.entity===t}))[0];if(void 0!==n&&void 0!==n[r])return"none"!==n[r]&&!1!==n[r]}return"none"!==je.default[r]&&!1!==je.default[r]}r(123),r(265);var fe=r(0),Oe=function(){function e(e){localStorage.setItem("language",e),window.location.reload()}return Object(fe.jsxs)("div",{children:[ue().language,Object(fe.jsxs)("div",{children:[Q.includes("it")&&Object(fe.jsx)(f.a,{variant:"outline-info",onClick:function(){return e("it")},children:"Ita"}),Q.includes("en")&&Object(fe.jsx)(f.a,{variant:"outline-info",onClick:function(){return e("en")},children:"Eng"})]})]})};function xe(){return Object(fe.jsxs)(s.a.Fragment,{children:[Object(fe.jsx)("div",{className:"logo-section"}),Object(fe.jsx)("div",{className:"title-section",children:"Measurify Dashboard"})," ",Object(fe.jsx)("br",{}),Object(fe.jsx)("div",{className:"subtitle-section",children:"An IoT Framework to build powerful edge-cloud applications"}),Object(fe.jsx)("br",{}),Object(fe.jsxs)("div",{className:"poweredtitle-section",children:["Powered by\xa0",Object(fe.jsx)("a",{target:"_blank",href:"https://measurify.org/",children:"Measurify"})]})]})}var me=r(340),ve=s.a.createRef(),ge=s.a.createRef(),ye=s.a.createRef(),we=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1];function s(){return(s=Object(l.a)(Object(o.a)().mark((function e(t){var r,n,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=ve.current.value,n=ge.current.value,s=ye.current.value,""!==r){e.next=7;break}return a(ue().missing_username),e.abrupt("return");case 7:if(""!==n){e.next=10;break}return a(ue().missing_password),e.abrupt("return");case 10:return e.prev=10,e.next=13,w(r,n,s);case 13:return e.next=15,be();case 15:window.location.replace("/"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),console.log({error:e.t0.response.data}),a(e.t0.response.data.message+" : "+e.t0.response.data.details);case 22:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}return Object(fe.jsxs)("div",{className:"auth-page",children:[Object(fe.jsx)("div",{className:"title-wrapper",children:Object(fe.jsx)(xe,{})}),Q.length>1&&Object(fe.jsx)("div",{className:"language-wrapper",children:Object(fe.jsx)(Oe,{})}),Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),Object(fe.jsxs)("div",{className:"login-section",children:[Object(fe.jsx)("h4",{children:ue().login}),Object(fe.jsxs)(me.a,{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"username",children:[Object(fe.jsx)(me.a.Label,{children:ue().username}),Object(fe.jsx)(me.a.Control,{ref:ve,type:"text",placeholder:ue().username_suggestion})]}),Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(fe.jsx)(me.a.Label,{children:ue().password}),Object(fe.jsx)(me.a.Control,{type:"password",ref:ge,placeholder:ue().password_suggestion})]}),Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"tenant",children:[Object(fe.jsx)(me.a.Label,{children:ue().tenant}),Object(fe.jsx)(me.a.Control,{type:"text",ref:ye,placeholder:ue().tenant_suggestion})]}),Object(fe.jsx)(f.a,{variant:"success",type:"submit",children:ue().submit})]}),Object(fe.jsx)("div",{style:{color:"red"},children:r}),Object(fe.jsx)("br",{}),Object(fe.jsx)("div",{className:"form-row row",children:Object(fe.jsx)(p.b,{to:"/passwordrecovery",children:ue().forgot_password_link})}),Object(fe.jsx)("br",{}),Object(fe.jsx)("div",{className:"form-row row",children:Object(fe.jsx)(p.b,{to:"/add/tenants",children:Object(fe.jsxs)(f.a,{variant:"outline-success",size:"sm",children:[ue().add_tenant,Object(fe.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})]})})})]})]})},ke=(r(269),function(){return Object(n.useEffect)((function(){})),Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsx)("header",{className:"page-header",children:Y}),Object(fe.jsx)("main",{className:"page-content",children:Object(fe.jsx)("div",{className:"home-page",children:Object(fe.jsx)("div",{className:"info-box",children:Object(fe.jsxs)("div",{className:"info-text",children:[ue().welcome_hp,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),ue().left_bar_descr_hp,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),ue().right_bar_descr_hp,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),ue().session_expire_info_hp,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),Object(fe.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:ue().github_issue_page_hp}),Object(fe.jsx)("br",{})]})})})})]})}),_e=(r(270),function(){return Object(fe.jsxs)("div",{className:"notFound-page",children:[ue().oh_no,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),ue().broken_link,Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),Object(fe.jsx)("a",{href:"https://github.com/measurify/server/issues",target:"_blank",rel:"noopener noreferrer",title:"https://github.com/measurify/server/issues",children:ue().github_issue_page_hp})]})}),Ce=(r(271),r(77)),Se=r(29),Ne=function e(t){if(void 0===t)return!0;if(null==t)return!0;if("boolean"===typeof t)return!0;if("number"===typeof t)return isNaN(t);if("string"===typeof t)return""===t;if(Array.isArray(t)){if(0===t.length)return!0;var r=!0;return t.forEach((function(t){r=r&&e(t)})),r}if(t.constructor===Object){var a=!0;return Object.entries(t).forEach((function(t){var r=Object(b.a)(t,2),n=(r[0],r[1]);a=a&&e(n)})),a}return!0},Ae=function(e){return!1===Array.isArray(e)?-1:e.filter((function(e){return!Ne(e)})).length},De=function e(t){if(Array.isArray(t),t.constructor===Object)for(var r=Object.entries(t),a=0;a<r.length;a++){if(Array.isArray(r[a][1]))for(var n=0;n<r[a][1].length;n++)r[a][1][n].constructor===Object||Array.isArray(r[a][1][n])?(e(r[a][1][n]),Ne(r[a][1][n])&&r[a][1].splice(n,1)):Ne(r[a][1][n])&&r[a][1].splice(n,1);if(r[a][1].constructor===Object)for(var s=Object.entries(r[a][1]),c=0;c<s.length;c++)s[a][1].constructor===Object||Array.isArray(s[a][1])?e(s[a][1]):Ne(s[a][1])&&delete r[a][1][s[a][0]]}return t},Pe=function e(t,r){if(void 0===t||void 0===r)return!1;if(t===r)return!0;if(typeof t!==typeof r)return!1;if(Array.isArray(t)&&!Array.isArray(r)||!Array.isArray(t)&&Array.isArray(r))return!1;if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===Object&&r.constructor!==Object||t.constructor!==Object&&r.constructor===Object)return!1;if(t.constructor===Object&&r.constructor===Object){var n=Object.keys(t),s=Object.keys(r);return n.length===s.length&&(!!e(n,s)&&!!e(Object.values(t),Object.values(r)))}return!1};function Re(e){return e&&e[0].toUpperCase()+e.slice(1)}function Te(e){return e.slice(0,10).replaceAll("-","/")}Ce.a.library.add(Se.g,Se.a,Se.l,Se.j,Se.i,Se.k,Se.h,Se.b);var Ie=s.a.createRef(),Fe=s.a.createRef(),Le=s.a.createRef(),Ee=s.a.createRef(),Be=s.a.createRef(),ze=s.a.createRef(),He=s.a.createRef();function Ge(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),r=t[0],a=t[1],c=localStorage.getItem("username"),i=localStorage.getItem("user-role"),o=localStorage.getItem("user-tenant");return ze.current=null!==c?c:"",Be.current=null!==i?i:"",He.current=null!==o&&""!==o?o:"-",Object(n.useEffect)((function(){function e(){var t,r;if(null!==Le.current)r=Le.current-1;else{if(null===Fe.current){var a=localStorage.getItem("login-time");null!==a?(Fe.current=a,t=parseInt(a,10)):(t=Date.now(),Fe.current=t)}else t=parseInt(Fe.current,10);null===Ee.current&&(Ee.current=function(){var e=localStorage.getItem("token-expiration-time");return null===e?300:e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()),r=(t+Ee.current-Date.now())/1e3}if(r<60&&(clearInterval(Ie.current),k().then((function(){Le.current=null,Fe.current=null,Ie.current=setInterval((function(){e()}),1e3)}))),r<=0)return localStorage.clear(),void window.location.replace("/");Le.current=parseInt(r,10)}Ie.current=setInterval((function(){e()}),1e3)}),[]),Object(fe.jsxs)("nav",{className:"app-nav",children:[Object(fe.jsx)(f.a,{className:"app-nav-opener",onClick:function(){return a(!r)},children:r?Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}):Object(fe.jsx)("i",{className:"fa fa-bars","aria-hidden":"true"})}),Object(fe.jsx)(p.b,{to:"/home",className:"nav-wrap",children:Y}),Object(fe.jsx)("hr",{}),Object(fe.jsx)("div",{className:"app-nav-wrapper ".concat(r?"opened":""),children:Object(fe.jsxs)("div",{className:"app-nav-links",children:[Object(fe.jsx)("hr",{}),Object(fe.jsxs)("div",{className:"data-wrapper",children:[Object(fe.jsxs)(p.b,{to:"/viewProfile/",children:[ue().welcome+" ",Object(fe.jsx)("b",{children:ze.current})]},"viewProfile"),Object(fe.jsx)("div",{style:{paddingLeft:"10px"},children:Object(fe.jsxs)("h3",{children:[ue().role+" ","admin"===Be.current?Object(fe.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===Be.current?Object(fe.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===Be.current?Object(fe.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===Be.current?Object(fe.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(fe.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})}),Object(fe.jsx)("div",{style:{paddingLeft:"10px"},children:Object(fe.jsxs)("h3",{children:[ue().tenant+" ",Object(fe.jsx)("b",{children:He.current})]})}),Object(fe.jsx)("br",{}),Object(fe.jsx)("div",{style:{paddingLeft:"20px",paddingBottom:"20px"},children:Object(fe.jsx)(f.a,{variant:"outline-danger",onClick:function(){return localStorage.clear(),void document.location.replace("/")},children:ue().logout})}),Q.length>1&&Object(fe.jsxs)(s.a.Fragment,{children:[Object(fe.jsx)("hr",{}),Object(fe.jsx)("h2",{children:Object(fe.jsx)(Oe,{})})]})]}),Object(fe.jsx)("hr",{}),Object(fe.jsx)("div",{className:"app-nav-text",children:ue().resources}),Object(fe.jsx)("hr",{}),Object.keys($).map((function(e){return!he(Be.current,e,"read")||void 0!==te[e]&&!te[e].includes(Be.current)?"":Object(fe.jsx)(p.b,{to:"/"+e,className:function(e){return e.isActive?"active":""},onClick:function(){return a(!1)},children:Re(e)},e)})),Object(fe.jsx)("hr",{}),0!==Z.length&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)("div",{className:"app-nav-text",children:ue().tools})," ",Object(fe.jsx)("hr",{})]}),Z.includes("updatehistory")&&he(Be.current,"experiments","update")&&Object(fe.jsx)(p.b,{to:"/updatehistory",className:function(e){return e.isActive?"active":""},onClick:function(){return a(!1)},children:"Update Experiments History"}),Z.includes("downloadexperiment")&&he(Be.current,"experiments","read")&&Object(fe.jsx)(p.b,{to:"/downloadexperiment",className:function(e){return e.isActive?"active":""},onClick:function(){return a(!1)},children:"Download Experiments Data"}),Z.includes("removesteps")&&he(Be.current,"experiments","update")&&Object(fe.jsx)(p.b,{to:"/removesteps",className:function(e){return e.isActive?"active":""},onClick:function(){return a(!1)},children:"Remove History Steps"})]})})]})}var We=r(324),Me=r(342),Ue=r(202),Ke=r(341);function Je(e){var t={};return ae[e.resType].forEach((function(r){r.constructor===Object?Object.keys(r).forEach((function(a){Array.isArray(e.resource[a])?t[a]=e.resource[a].map((function(e){var t={};return r[a].forEach((function(r){t[r]=e[r]})),t})):t[a]=e.resource[a]})):Object.keys(e.resource).includes(r)&&(t[r]=e.resource[r])})),Ve(t)}function Ve(e){return Object(fe.jsx)(Me.a,{defaultActiveKey:0,size:"lg",children:s.a.Children.toArray(Object.entries(e).map((function(e,t){var r=Object(b.a)(e,2),a=r[0],n=r[1];return Object(fe.jsxs)(Me.a.Item,{eventKey:t,children:[Object(fe.jsx)(Me.a.Header,{children:Object(fe.jsx)("b",{children:a})}),Object(fe.jsx)(Me.a.Body,{children:n instanceof Object?Array.isArray(n)?void 0!==n[0]?Object.values(n[0]).some((function(e){return e instanceof Object}))?s.a.Children.toArray(n.map((function(e,t){var r=Object(fe.jsxs)("span",{children:[a," ",Object(fe.jsxs)("i",{children:["[",t,"]"]})]});return"history"===a&&void 0!==e.step&&(r=Object(fe.jsxs)("span",{children:["Step ",Object(fe.jsx)("i",{children:e.step})]})),"metadata"===a&&void 0!==e.name&&(r=Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{children:e.name})})),"topics"===a&&void 0!==e.name&&(r=Object(fe.jsx)("span",{children:Object(fe.jsx)("i",{children:e.name})})),Object(fe.jsx)(Me.a,{children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsx)(Me.a.Header,{children:r}),Object(fe.jsx)(Me.a.Body,{children:Ve(e)})]})})}))):n[0]instanceof Object?Object(fe.jsxs)(We.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(fe.jsx)("thead",{children:Object(fe.jsx)("tr",{children:s.a.Children.toArray(Object.keys(n[0]).map((function(e){return Object(fe.jsx)("th",{children:e})})))})}),Object(fe.jsx)("tbody",{children:s.a.Children.toArray(n.map((function(e){return Object(fe.jsx)("tr",{children:s.a.Children.toArray(Object.values(e).map((function(e){return Array.isArray(e)?Object(fe.jsxs)("td",{children:["[",e.join(", "),"]"]}):Object(fe.jsx)("td",{children:e})})))})})))})]}):"[ "+n.join(" , ")+" ]":"[ ]":Object(fe.jsx)(We.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(fe.jsx)("tbody",{children:s.a.Children.toArray(Object.entries(n).map((function(e){return Object(fe.jsxs)("tr",{children:[Object(fe.jsx)("td",{children:Object(fe.jsx)("b",{children:e[0]})}),Object(fe.jsx)("td",{children:"string"!==typeof e[1]?e[1].toString():e[1]})]})})))})}):void 0===n||null==n?Object(fe.jsx)("i",{children:"None"}):a.toLowerCase().includes("date")?Te(n):n})]})})))})}function qe(e){var t=Object(n.useState)(void 0),r=Object(b.a)(t,2),a=r[0],s=r[1];Object(n.useEffect)((function(){}),[e]);var c=void 0!==a?Object(fe.jsxs)(Ue.a,{id:"popover-positioned-left",style:{width:"20vw",minWidth:1==/Mobi/i.test(window.navigator.userAgent)?250:"400px"},children:[Object(fe.jsx)(Ue.a.Header,{as:"h3",children:"View Resource"}),Object(fe.jsx)(Ue.a.Body,{children:Object(fe.jsx)(Je,{resource:a,resType:e.resType})})]}):Object(fe.jsx)(Ue.a,{id:"popover-positioned-left",style:{width:"20vw"},children:Object(fe.jsxs)(Ue.a.Header,{as:"h3",children:["Loading",Object(fe.jsx)(Ue.a.Body,{})]})});return"view"===e.action?Object(fe.jsx)(Ke.a,{trigger:"click",placement:"left",overlay:c,rootClose:!0,children:Object(fe.jsx)(f.a,{variant:"link",size:"sm",onClick:function(){s(e.takeSingle(e.id))},children:Object(fe.jsx)("i",{className:"fa fa-eye","aria-hidden":"true",title:"View",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"delete"===e.action?Object(fe.jsx)(f.a,{variant:"link",size:"sm",onClick:Object(l.a)(Object(o.a)().mark((function t(){return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete: "+e.id+"?")){t.next=12;break}return t.prev=2,t.next=5,P(e.resType,e.id);case 5:200===t.sent.response.status&&e.removeSingle(e.id),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Delete",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})}):"edit"===e.action?Object(fe.jsx)(p.b,{to:"/edit/"+e.resType+"/"+e.id,children:Object(fe.jsx)(f.a,{variant:"link",size:"sm",children:Object(fe.jsx)("i",{className:"fa fa-pencil-alt","aria-hidden":"true",title:"Edit",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):"duplicate"===e.action?Object(fe.jsx)(p.b,{to:"/add/"+e.resType+"/?from="+e.id,children:Object(fe.jsx)(f.a,{variant:"link",size:"sm",children:Object(fe.jsx)("i",{className:"fa fa-copy","aria-hidden":"true",title:"Duplicate",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}):Object(fe.jsx)("div",{})}function Ye(e){return void 0===e.header||void 0===e.resources||e.header.includes("_actions")&&void 0===e._actions?Object(fe.jsx)("div",{children:"Loading"}):Object(fe.jsx)("div",{children:Object(fe.jsxs)(We.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(fe.jsx)("thead",{children:Object(fe.jsx)("tr",{children:s.a.Children.toArray(e.header.map((function(t){return void 0!==ee[e.resType]&&void 0!==ee[e.resType][t]?Object(fe.jsx)("th",{children:ee[e.resType][t]}):Object(fe.jsx)("th",{children:t})})))},"header")}),Object(fe.jsx)("tbody",{children:s.a.Children.toArray(e.resources.map((function(t,r){return Object(fe.jsx)("tr",{children:s.a.Children.toArray(e.header.map((function(a){return"_actions"===a?Object(fe.jsxs)("td",{children:[e._actions.includes("view")?Object(fe.jsx)(qe,{resType:e.resType,action:"view",k:r+"_view",id:t._id,takeSingle:e.takeSingle}):"",e._actions.includes("edit")&&he(e.userRole,e.resType,"update")?Object(fe.jsx)(qe,{resType:e.resType,action:"edit",k:r+"_edit",id:t._id}):"",e._actions.includes("duplicate")&&he(e.userRole,e.resType,"create")?Object(fe.jsx)(qe,{resType:e.resType,action:"duplicate",k:r+"_duplicate",id:t._id}):"",e._actions.includes("delete")&&he(e.userRole,e.resType,"delete")?Object(fe.jsx)(qe,{resType:e.resType,action:"delete",k:r+"_delete",id:t._id,removeSingle:e.removeSingle}):""]}):void 0===t[a]?Object(fe.jsx)("td",{children:"--undefined--"}):Array.isArray(t[a])?Object(fe.jsx)("td",{children:"[ "+t[a].join(" , ")+" ]"}):Object(fe.jsx)("td",{children:t[a]})})))})})))})]})})}Ce.a.library.add(Se.d,Se.e,Se.c);var Qe=r(348),Xe=(r(108),s.a.createContext());Ce.a.library.add(Se.f);var Ze=s.a.createRef();function $e(e){var t=Object(h.p)().page,r=Object(p.c)(),a=Object(b.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(void 0),d=Object(b.a)(i,2),u=d[0],j=d[1],O=Object(n.useState)(void 0),x=Object(b.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(void 0),y=Object(b.a)(g,2),w=y[0],k=y[1],_=Object(n.useState)(1),C=Object(b.a)(_,2),S=C[0],N=C[1],A=Object(n.useState)(1),D=Object(b.a)(A,2),P=D[0],R=D[1],I=Object(n.useState)(),F=Object(b.a)(I,2),L=F[0],E=F[1],B=Object(n.useState)(),z=Object(b.a)(B,2),H=z[0],G=z[1],W=Object(n.useState)(),M=Object(b.a)(W,2),U=M[0],K=M[1],J=Object(n.useState)(),V=Object(b.a)(J,2),q=V[0],Y=V[1],Q=Object(n.useState)(),X=Object(b.a)(Q,2),Z=X[0],ee=X[1],te=localStorage.getItem("user-role");Ze.current=null!==te?te:"";var ae,ne=Object(n.useContext)(Xe);ae=void 0!==ne?ne.fetched:{},Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var r,a,n=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,e.next=4,T(t,r);case 4:a=e.sent,v($[t]),j(a.docs),void 0!==re[t]&&k(re[t]),E(a.hasNextPage),G(a.hasPrevPage),ee(a.totalPages),K(a.prevPage),Y(a.nextPage),e.next=25;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),v(void 0),j(void 0),E(void 0),G(void 0),ee(void 0),K(void 0),Y(void 0);case 25:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),r=null!==s.get("page")?s.get("page"):1;N(r);var a=null!==s.get("limit")?s.get("limit"):10;R(a),e({page:r,limit:a}).catch(console.error)}),[e,t,s]);var ce=function(){var e=parseInt(S,10)-2>0,t=parseInt(S,10)+2<Z;return Object(fe.jsx)("div",{style:{display:"inline-flex",width:"100%"},children:Object(fe.jsxs)(Qe.a,{style:{alignSelf:"center",marginLeft:"auto",marginRight:"auto"},children:[Object(fe.jsx)(Qe.a.First,{disabled:1===S,onClick:function(){return c({page:1,limit:P})}}),Object(fe.jsx)(Qe.a.Prev,{disabled:!H,onClick:function(){return c({page:U,limit:P})}}),e&&Object(fe.jsx)(Qe.a.Ellipsis,{}),parseInt(S,10)-1>0&&Object(fe.jsx)(Qe.a.Item,{onClick:function(){return c({page:parseInt(S,10)-1,limit:P})},children:parseInt(S,10)-1}),Object(fe.jsx)(Qe.a.Item,{children:Object(fe.jsx)("b",{children:S})}),parseInt(S,10)+1<=Z&&Object(fe.jsx)(Qe.a.Item,{onClick:function(){return c({page:parseInt(S,10)+1,limit:P})},children:parseInt(S,10)+1}),t&&Object(fe.jsx)(Qe.a.Ellipsis,{}),Object(fe.jsx)(Qe.a.Next,{disabled:!L,onClick:function(){return c({page:q,limit:P})}}),Object(fe.jsx)(Qe.a.Last,{disabled:S===Z,onClick:function(){return c({page:Z,limit:P})}})]})})};return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:[Re(t),void 0!==se[t]&&he(Ze.current,t,"create")&&Object(fe.jsx)(p.b,{to:"/add/"+t+"/",children:Object(fe.jsx)(f.a,{variant:"link",size:"sm",children:Object(fe.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}},t+"icon")},t+"button")},t+"_add_navlink")]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsx)(Ye,{resType:t,userRole:Ze.current,header:m,resources:u,_actions:w,takeSingle:function(e){return u.find((function(t){return t._id===e}))},removeSingle:function(e){var r=u.filter((function(t){return t._id!==e}));ae.RemoveData(t),j(r)}}),Object(fe.jsx)(ce,{})]})]})}var et=r(325),tt=r(326),rt=r(196),at=r(147);function nt(e){var t=Object(n.useState)(""),r=Object(b.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(""),i=Object(b.a)(c,2),d=i[0],u=i[1],j=Object(n.useState)(""),p=Object(b.a)(j,2),h=p[0],O=p[1],x=Object(n.useState)(""),m=Object(b.a)(x,2),v=m[0],g=m[1],y=Object(n.useState)(""),k=Object(b.a)(y,2),_=k[0],C=k[1],S=Object(n.useState)(""),N=Object(b.a)(S,2),D=N[0],P=N[1],R=Object(n.useState)(""),T=Object(b.a)(R,2),I=T[0],F=T[1],L=Object(n.useState)(""),E=Object(b.a)(L,2),B=E[0],z=E[1],H=Object(n.useState)(""),W=Object(b.a)(H,2),M=W[0],U=W[1],K=Object(n.useState)(""),J=Object(b.a)(K,2),V=J[0],q=J[1],Y=Object(n.useState)(""),Q=Object(b.a)(Y,2),X=Q[0],Z=Q[1],$=Object(n.useState)(!1),ee=Object(b.a)($,2),te=ee[0],re=ee[1];Object(n.useEffect)((function(){var e=localStorage.getItem("username"),t=localStorage.getItem("user-role"),r=localStorage.getItem("user-tenant"),a=localStorage.getItem("user-email");s(null!==e?e:""),u(null!==t?t:""),O(null!==r&&""!==r?r:"-"),g(null!==a?a:"")}),[]);var ae=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,n,s,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==_){e.next=5;break}return q(ue().old_pass_empty),re(!0),e.abrupt("return");case 5:if(D===I){e.next=9;break}return q(ue().pass_not_match),re(!0),e.abrupt("return");case 9:if(""!==D&&""!==I){e.next=13;break}return q(ue().pass_not_null),re(!0),e.abrupt("return");case 13:return e.prev=13,e.next=16,G();case 16:if(n=e.sent,r=n.response.data.passwordStrength,!(Object(at.passwordStrength)(D).id<r)){e.next=23;break}return q(ue().stronger_password_required),re(!0),e.abrupt("return");case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(13),console.log(e.t0),r=1;case 29:return e.prev=29,e.next=32,w(a,_,"-"!==h?h:"",!1);case 32:e.next=39;break;case 34:return e.prev=34,e.t1=e.catch(29),q(ue().old_pass_wrong),re(!0),e.abrupt("return");case 39:if(s=window.confirm(ue().pass_change_confirm),re(!1),!s){e.next=55;break}return e.prev=42,e.next=45,A("users",{password:D},a);case 45:c=e.sent,C(""),P(""),F(""),200===c.response.status&&q(ue().password_changed),e.next=55;break;case 52:e.prev=52,e.t2=e.catch(42),console.log(e.t2);case 55:case"end":return e.stop()}}),e,null,[[13,25],[29,34],[42,52]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==B&&""!==M){e.next=5;break}return Z(ue().empty_email_error),re(!0),e.abrupt("return");case 5:if(B===M){e.next=9;break}return Z(ue().email_not_match),re(!0),e.abrupt("return");case 9:if(B!==v){e.next=13;break}return Z(ue().email_same_as_old),re(!0),e.abrupt("return");case 13:if(!window.confirm(ue().email_change_confirm)){e.next=25;break}return e.prev=15,e.next=18,A("users",{email:B},a);case 18:200===e.sent.response.status&&(z(""),U(""),localStorage.setItem("user-email",B),g(B),re(!1),Z(ue().email_changed)),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(15),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[15,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:[ue().welcome,"\xa0",Object(fe.jsx)("b",{children:a}),":\xa0",ue().profile_page_desc]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{xs:1,children:"Username:\xa0"}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:a})})]}),Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{xs:1,children:ue().role}),Object(fe.jsxs)(rt.a,{children:[d,"\xa0","admin"===d?Object(fe.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===d?Object(fe.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===d?Object(fe.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===d?Object(fe.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(fe.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})]}),Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{xs:1,children:ue().email+" "}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:v})})]}),Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{xs:1,children:ue().tenant+" "}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:h})})]})]}),Object(fe.jsx)("hr",{}),Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(tt.a,{children:Object(fe.jsx)("b",{children:"Edit email"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a,{onSubmit:ne,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"email",onChange:function(e){e.preventDefault(),z(e.target.value)},value:B,placeholder:ue().enter+" new email"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"email",onChange:function(e){e.preventDefault(),U(e.target.value)},value:M,placeholder:ue().repeat+" new email"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:te?"red":"black"},children:X})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",type:"submit",children:ue().submit})})})]})})})]}),Object(fe.jsx)("hr",{}),Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(tt.a,{children:Object(fe.jsx)("b",{children:"Edit password"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a,{onSubmit:ae,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"password",onChange:function(e){e.preventDefault(),C(e.target.value)},value:_,placeholder:ue().enter+" old password"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"password",onChange:function(e){e.preventDefault(),P(e.target.value)},value:D,placeholder:ue().enter+" new password"}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:ue().password_rules})]})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"password",onChange:function(e){e.preventDefault(),F(e.target.value)},value:I,placeholder:ue().repeat+" new password","aria-describedby":"passwordHelpBlock"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:te?"red":"black"},children:V})})})," ",Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",type:"submit",children:ue().submit})})})]})})})]})]})]})}r(272),r(273);function st(){return Object(fe.jsx)("div",{className:"unAuth-page",children:Object(fe.jsx)("div",{className:"info-box",children:Object(fe.jsx)("div",{className:"info-text",children:ue().unauthorised_user})})})}var ct=r(327),it=r(339),ot=r(328),lt=r(344),dt=(r(274),s.a.createRef());function ut(e){var t=Object(n.useState)(!1),r=Object(b.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(!1),o=Object(b.a)(i,2),l=o[0],d=o[1],u=s.a.useRef(),j=Object(n.useContext)(Xe).notifications;dt.current=0;var p=function(){return c(!1)};Object(n.useEffect)((function(){dt.current<j.notifications.length&&(dt.current=j.notifications.length,d(!0),setTimeout((function(){d(!1)}),600))}),[j.notifications]),!0===/Mobi/i.test(window.navigator.userAgent)?u.current="vertical":u.current=X;var h=j.notifications.filter((function(e){return"error"===e.name}));return Object(fe.jsxs)("div",{className:"notificationBar",style:"vertical"===u.current&&!1===/Mobi/i.test(window.navigator.userAgent)?{height:"100vh"}:{},children:[Object(fe.jsxs)(f.a,{variant:"link",onClick:function(){c(!0)},style:{color:"#fff",textDecoration:"none"},children:[ue().notifications,"\xa0",Object(fe.jsx)(ct.a,{pill:!0,bg:h.length>0?"danger":"success",className:"element".concat(l?" highlight":""),children:j.notifications.length}),Object(fe.jsx)("span",{className:"visually-hidden",children:"Unread notifications"})]}),Object(fe.jsxs)(it.a,{style:{backgroundColor:"#123651",color:"#fff"},show:a,onHide:p,placement:"end",name:"notification_bar",scroll:!1,backdrop:!0,keyboard:!0,children:[Object(fe.jsx)(it.a.Header,{children:Object(fe.jsxs)(it.a.Title,{children:[ue().notifications,"\xa0",Object(fe.jsx)(ct.a,{pill:!0,bg:h.length>0?"danger":"success",children:j.notifications.length}),"\xa0\xa0\xa0",Object(fe.jsx)(f.a,{variant:"outline-secondary",onClick:function(){return p()},children:ue().close+" "+ue().notifications})]})}),Object(fe.jsx)(it.a.Body,{children:Object(fe.jsxs)("div",{style:{width:"100%",height:"100%"},children:[0!==j.notifications.length&&Object(fe.jsx)(f.a,{variant:"warning",onClick:function(){return j.ClearNotifications()},children:ue().clear_all}),Object(fe.jsx)(ot.a,{children:j.notifications.map((function(e,t){var r;return"info"===e.name&&(r="success"),"error"===e.name&&(r="danger"),Object(fe.jsxs)(lt.a,{className:"d-inline-block m-1",bg:r,animation:!0,onClose:function(){j.RemoveNotification(t)},children:[Object(fe.jsxs)(lt.a.Header,{children:[Object(fe.jsx)("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),Object(fe.jsx)("strong",{className:"me-auto",children:e.name}),Object(fe.jsx)("small",{children:e.time.slice(0,15)})]}),Object(fe.jsx)(lt.a.Body,{children:e.msg})]},"notification_"+t)}))})]})})]})]})}r(275);Ce.a.library.add(Se.g,Se.a,Se.l,Se.j,Se.i,Se.k,Se.h,Se.b);var jt=s.a.createRef(),bt=s.a.createRef(),pt=s.a.createRef(),ht=s.a.createRef(),ft=s.a.createRef(),Ot=s.a.createRef(),xt=s.a.createRef();function mt(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),r=(t[0],t[1]),a=localStorage.getItem("username"),c=localStorage.getItem("user-role"),i=localStorage.getItem("user-tenant");return Ot.current=null!==a?a:"",ft.current=null!==c?c:"",xt.current=null!==i&&""!==i?i:"-",Object(n.useEffect)((function(){function e(){var t,r;if(null!==pt.current)r=pt.current-1;else{if(null===bt.current){var a=localStorage.getItem("login-time");null!==a?(bt.current=a,t=parseInt(a,10)):(t=Date.now(),bt.current=t)}else t=parseInt(bt.current,10);null===ht.current&&(ht.current=function(){var e=localStorage.getItem("token-expiration-time");return null===e?300:e.endsWith("h")?60*parseInt(e.slice(0,-1))*60*1e3:e.endsWith("m")?60*parseInt(e.slice(0,-1))*1e3:(e.endsWith("s"),1e3*parseInt(e.slice(0,-1)))}()),r=(t+ht.current-Date.now())/1e3}if(r<60&&(clearInterval(jt.current),k().then((function(){pt.current=null,bt.current=null,jt.current=setInterval((function(){e()}),1e3)}))),r<=0)return localStorage.clear(),void window.location.replace("/");pt.current=parseInt(r,10)}jt.current=setInterval((function(){e()}),1e3)}),[]),Object(fe.jsx)("nav",{className:"horizontal-nav",children:Object(fe.jsx)("div",{className:"horizontal-nav-links",children:Object(fe.jsx)("div",{className:"data-wrapper",children:Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsxs)(tt.a,{style:{padding:0},children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(p.b,{to:"/home",className:"nav-wrap",children:Y})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(p.b,{to:"/viewProfile/",children:[ue().welcome+" ",Object(fe.jsx)("b",{children:Ot.current})]},"viewProfile")}),Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)("div",{className:"horizontal-nav-text",children:[ue().role+" ","admin"===ft.current?Object(fe.jsx)("i",{className:"fa fa-user-tie","aria-hidden":"true",title:"Admin"}):"provider"===ft.current?Object(fe.jsx)("i",{className:"fa fa-user-graduate","aria-hidden":"true",title:"Provider"}):"analyst"===ft.current?Object(fe.jsx)("i",{className:"fa fa-user-cog","aria-hidden":"true",title:"Analyst"}):"supplier"===ft.current?Object(fe.jsx)("i",{className:"fa fa-user-tag","aria-hidden":"true",title:"Supplier"}):Object(fe.jsx)("i",{className:"fa fa-user","aria-hidden":"true","aria-label":"User"})]})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)("div",{className:"horizontal-nav-text",children:[ue().tenant+" ",Object(fe.jsx)("b",{children:xt.current})]})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"outline-danger",onClick:function(){return localStorage.clear(),void document.location.replace("/")},children:ue().logout})}),Q.length>1&&Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(Oe,{})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(ut,{})})]}),Object(fe.jsxs)(tt.a,{style:{padding:0},children:[Object(fe.jsx)("hr",{}),Object(fe.jsx)("div",{style:{justifyContent:"center",alignItems:"center",alignSelf:"flex-start"},children:ue().resources})]}),Object(fe.jsx)(tt.a,{style:{padding:0},children:s.a.Children.toArray(Object.keys($).map((function(e){return he(ft.current,e,"read")?Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(p.b,{to:"/"+e,className:function(e){return e.isActive?"active":""},onClick:function(){return r(!1)},children:Re(e)},e)}):""})))})]})})})})}var vt=r(64),gt={PushLog:function(e){},RemoveLog:function(e){},ClearLogs:function(){}},yt="#";function wt(e,t,r,a,n){return kt.apply(this,arguments)}function kt(){return(kt=Object(l.a)(Object(o.a)().mark((function e(t,r,n,s,c){var i,l,d,u,j,b,p;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.name,l=i.split(yt)[0],(d=new FormData).append("file",t),u=!1===r||void 0===r?a+"/experiments/"+l+"/file?sep="+n+"&sepArray="+s+"&sepFloat="+c:a+"/experiments/"+l+"/file/?override=true&sep="+n+"&sepArray="+s+"&sepFloat="+c,j={"Content-Type":"multipart/form-data","Cache-Control":"no-cache",Authorization:M()},b={headers:j},e.prev=7,e.next=10,g.put(u,d,b);case 10:p=e.sent,gt.PushLog({type:"info",msg:i+", successfully posted: Added: [ "+p.data.report.success.join(", ")+" ] Ignored: ["+p.data.report.ignored.join(", ")+" ] Overridden: ["+p.data.report.overridden.join(", ")+" ]\n"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("error in response"),gt.PushLog({type:"error",msg:i+" was not posted: "+e.t0.response.data.message+" "+(void 0!==e.t0.response.data.details?e.t0.response.data.details+"\n":"")});case 18:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function _t(e,t,r){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(l.a)(Object(o.a)().mark((function e(t,r,n){var s,c,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1===n||void 0===n?a+"/experiments/"+t:a+"/experiments/"+t+"?override=true",c=r.history.add[0].step,i={headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Authorization:M()}},e.prev=3,e.next=6,g.put(s,JSON.stringify(r),i);case 6:l=e.sent,gt.PushLog({type:"info",msg:"Step "+c+", successfully posted: Added: [ "+l.data.report.success.join(", ")+" ] Ignored: ["+l.data.report.ignored.join(", ")+" ] Overridden: ["+l.data.report.overridden.join(", ")+" ]\n"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("error in response"),gt.PushLog({type:"error",msg:"Step "+c+" was not posted: "+e.t0.response.data.message+" "+(void 0!==e.t0.response.data.details?e.t0.response.data.details+"\n":"")});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function St(e,t,r,a){return Nt.apply(this,arguments)}function Nt(){return Nt=Object(l.a)(Object(o.a)().mark((function e(t,r,a,n){var s,c,i,l,d,u,j=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=j.length>4&&void 0!==j[4]?j[4]:void 0,c="experiments/"+t+"/history?sep="+r+"&sepArray="+a+"&sepFloat="+n,i=t+"#history.csv",e.prev=3,e.next=6,At(c);case 6:return l=e.sent,d=new Blob([l]),u=null,void 0===s||!1===s?Object(vt.saveAs)(d,i):u=new File([d],i),gt.PushLog({type:"info",msg:i+" successfully downloaded.\n"}),e.abrupt("return",u);case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])}))),Nt.apply(this,arguments)}function At(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(l.a)(Object(o.a)().mark((function e(t){var r,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"get",url:a+"/"+t,headers:{Authorization:M()}},e.prev=2,e.next=5,g(r);case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.log("error in response"),console.log(e.t0),gt.PushLog({type:"error",msg:e.t0.response.data.message+" "+(void 0!==e.t0.response.data.details?e.t0.response.data.details:"")});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Pt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"put",url:a+"/experiments/"+t,headers:{Authorization:M()},data:{history:{remove:r}}},e.prev=2,e.next=5,g(n);case 5:e.sent,gt.PushLog({type:"info",msg:"Successfully deleted steps with id: "+r.join(" - ")+"\n"}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("error in response"),console.log(e.t0),gt.PushLog({type:"error",msg:e.t0.response.data.message+" "+(void 0!==e.t0.response.data.details?e.t0.response.data.details+"\n":"\n")});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var Tt=r(337),It=r(338),Ft=r(346),Lt=function(e){var t,r=Object(n.useContext)(Xe);if(t=void 0!==r?r.fetched:{},void 0===e.values||void 0===e.resource||void 0===e.disabledFields||void 0===e.functionalFields||void 0===e.submitFunction||void 0===e.handleChangesCallback||void 0===e.arrayDeleteCallback)return"Loading";return Object(fe.jsxs)(me.a,{onSubmit:e.submitFunction,children:[Object(fe.jsxs)(et.a,{fluid:!0,children:[void 0===e.functionalFields[e.resource]&&"No operation allowed",void 0!==e.functionalFields[e.resource]&&s.a.Children.toArray(Object.entries(e.values).map((function(r){var a,n=Object(b.a)(r,2),c=n[0],i=n[1];if(void 0!==oe[e.resource]&&void 0!==oe[e.resource][c]&&void 0!==t.types&&void 0!==t.types[oe[e.resource][c]])return function(t,r){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:t})}),Object(fe.jsx)(rt.a,{sm:4,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsxs)(me.a.Select,{"aria-label":"Default select",value:e.values[t],id:t,onChange:function(r){r.preventDefault(),e.handleChangesCallback(r.target.value,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],children:[Object(fe.jsx)("option",{children:ue().select+" "+t}),s.a.Children.toArray(Object.entries(r).map((function(e){var t=Object(b.a)(e,2),r=(t[0],t[1]);return Object(fe.jsx)("option",{value:r,children:r})})))]})})})]})}(c,t.types[oe[e.resource][c]]);if(Array.isArray(i)){if("number"===typeof i[0])return a=c,Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:a})}),Object(fe.jsx)(rt.a,{sm:2,children:s.a.Children.toArray(e.values[a].map((function(t,r){return Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"number",disabled:void 0!==e.disabledFields[a]&&e.disabledFields[a],onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[a,r])},value:isNaN(e.values[a][r])?"":e.values[a][r],placeholder:ue().enter+" "+a+"["+r+"]"})})})})))})]},a);if("boolean"===typeof i[0])return function(t){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:t})}),Object(fe.jsx)(rt.a,{children:s.a.Children.toArray(e.values[t].map((function(r,a){return Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(f.a,{disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],variant:"link",size:"sm",onClick:function(r){r.preventDefault(),e.arrayDeleteCallback([t,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{sm:6,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],onChange:function(r){r.preventDefault(),e.handleChangesCallback(r.target.checked,[t,a])},checked:e.values[t][a],placeholder:ue().enter+" "+t})})}),Object(fe.jsx)(rt.a,{md:"auto"})]})})))})]},t)}(c);if("string"===typeof i[0])return function(r){var a;t!=={}&&void 0!==t.data[r]&&(a=t.data[r]);var n=void 0!==a?a.map((function(e){return e._id})):[];return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:r})}),Object(fe.jsx)(rt.a,{children:s.a.Children.toArray(e.values[r].map((function(s,c){return Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(f.a,{disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,c])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{sm:Math.max(2,2),children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:void 0!==t.data[r]?Object(fe.jsx)(It.a,{disableClearable:!0,disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],id:r,onBlur:function(t){""===t.target.value&&(t.preventDefault(),e.arrayDeleteCallback([r,c]))},onInputChange:function(t){null!==t&&(t.preventDefault(),0!==t.target.value&&e.handleChangesCallback(t.target.value,[r,c]))},onChange:function(t,a){t.preventDefault(),""===a||null===a?e.handleChangesCallback("",[r,c]):e.handleChangesCallback(a._id,[r,c])},value:""===s?null:n.includes(s)?a.filter((function(e){return e._id===s}))[0]:s,options:a,getOptionLabel:function(e){return void 0!==e.optionalLabel?e.optionalLabel:void 0!==e._id?e._id:e},renderOption:function(e,t){return Object(fe.jsx)(Ft.a,Object(u.a)(Object(u.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:void 0!==t.optionalLabel?t.optionalLabel:t._id}))},renderInput:function(e){return Object(fe.jsx)(Tt.a,Object(u.a)(Object(u.a)({},e),{},{label:ue().enter+" "+r+"["+c+"]"}))}}):Object(fe.jsx)(me.a.Control,{type:"text",disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],onBlur:function(t){""===t.target.value&&(t.preventDefault(),e.arrayDeleteCallback([r,c]))},onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,c])},value:e.values[r][c],placeholder:ue().enter+" "+r+"["+c+"]"})})}),Object(fe.jsx)(rt.a,{md:"auto"})]})})))})]})}(c);if(i[0].constructor===Object)return function(r){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:r})}),Object(fe.jsxs)(rt.a,{children:[Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"dashed",borderBottomWidth:"1px",marginBottom:"5px"},children:[void 0===e.disabledFields[r]&&Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)("b",{children:Object(fe.jsx)("i",{children:"Remove"})})}),s.a.Children.toArray(Object.entries(e.values[r][0]).map((function(e){return Object(fe.jsx)(rt.a,{sm:"boolean"===typeof e[1]?1:("number"===typeof e[1]||e[1],2),children:Object(fe.jsx)("b",{children:Object(fe.jsx)("i",{children:Re(r)+" "+e[0]})})})})))]}),s.a.Children.toArray(e.values[r].map((function(a,n){return Object(fe.jsxs)(tt.a,{children:[void 0===e.disabledFields[r]&&Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(f.a,{disabled:void 0!==e.disabledFields[r],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,n])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),s.a.Children.toArray(Object.entries(a).map((function(a){var c=Object(b.a)(a,2),i=c[0],o=c[1],l=void 0!==e.disabledFields[r]&&(void 0!==e.disabledFields[r][i]?e.disabledFields[r][i]:!0===e.disabledFields[r]);return"number"===typeof o?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"number",onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,n,i])},disabled:l,value:isNaN(e.values[r][n][i])?"":e.values[r][n][i],placeholder:ue().enter+" "+i})})}):"boolean"===typeof o?Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.checked,[r,n,i])},disabled:l,checked:e.values[r][n][i],placeholder:ue().enter+" "+i})})}):void 0!==oe[e.resource]&&void 0!==oe[e.resource][r]&&void 0!==oe[e.resource][r][i]&&void 0!==t.types&&void 0!==t.types[oe[e.resource][r][i]]?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsxs)(me.a.Select,{"aria-label":"Default select",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i])},value:e.values[r][n][i],disabled:l,children:[Object(fe.jsx)("option",{children:ue().select+" "+i}),s.a.Children.toArray(Object.entries(t.types[oe[e.resource][r][i]]).map((function(e){var t=Object(b.a)(e,2),r=t[0],a=t[1];return Object(fe.jsx)("option",{value:r,children:a})})))]})})}):"string"===typeof o?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"text",disabled:l,onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i])},value:e.values[r][n][i],placeholder:ue().enter+" "+i}),"metadata"===r&&"name"===i&&"Country"===e.values[r][n][i]&&Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Please, enter 2-letter country code (i.e., It, De, Fr, etc...)."})]})}):Array.isArray(o)?0===o.length?i+" is empty":"range"===i&&"enum"!==e.values[r][n].type?"":Object(fe.jsx)(Me.a,{defaultActiveKey:"0",style:{paddingBottom:"10px",width:"auto"},children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsxs)(Me.a.Header,{children:[Object(fe.jsx)("b",{children:i})," : ",Ae(o)," items"]}),Object(fe.jsx)(Me.a.Body,{children:Object(fe.jsx)(et.a,{fluid:!0,children:s.a.Children.toArray(o.map((function(t,a){if(t.constructor===Object){var c=Object.entries(t);return Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{sm:1,style:{borderRightStyle:"dotted",borderRightWidth:"1px"}}),Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(f.a,{disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,n,i,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),s.a.Children.toArray(c.map((function(t){var s=Object(b.a)(t,2),c=s[0],o=s[1];return Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"text",disabled:l,onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i,a,c])},value:o,placeholder:ue().enter+" "+c})})})})))]})}return"number"===typeof t?Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{disabled:l,variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,n,i,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"number",disabled:l,onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,n,i,a])},value:isNaN(t)?"":t,placeholder:ue().enter+" "+i})})]}):"string"===typeof t?Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{disabled:l,variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,n,i,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"text",disabled:void 0!==e.disabledFields[i]&&e.disabledFields[i],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i,a])},value:t,placeholder:ue().enter+" "+i})})]}):"Unknown data type"})))})})]})}):o.constructor===Object?Object(fe.jsx)(Me.a,{defaultActiveKey:"0",style:{paddingBottom:"10px",width:"auto"},children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsx)(Me.a.Header,{children:Object(fe.jsx)("b",{children:i})}),Object(fe.jsx)(Me.a.Body,{children:Object(fe.jsx)(et.a,{fluid:!0,children:Object(fe.jsx)(tt.a,{children:s.a.Children.toArray(Object.entries(o).map((function(a){return"number"===typeof a[1]?Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"number",disabled:l,onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,n,i,a[0]],!0)},value:isNaN(a[1])?"":a[1],placeholder:ue().enter+" "+a[0]})}):"boolean"===typeof a[1]?Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.checked,[r,n,i,a[0]],!0)},disabled:l,checked:a[1],label:a[0]})})}):void 0!==oe[e.resource]&&void 0!==oe[e.resource][r]&&void 0!==oe[e.resource][r][i]&&void 0!==oe[e.resource][r][i][a[0]]&&void 0!==t.types&&void 0!==oe[e.resource][r][i][a[0]]?Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsxs)(me.a.Select,{"aria-label":"Default select",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i,a[0]],!0)},value:a[1],disabled:l,children:[Object(fe.jsx)("option",{children:ue().select+" "+a[0]}),s.a.Children.toArray(Object.entries(t.types[oe[e.resource][r][i][a[0]]]).map((function(e){var t=Object(b.a)(e,2),r=t[0],a=t[1];return Object(fe.jsx)("option",{value:r,children:a})})))]})})}):"string"===typeof a[1]?Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"text",disabled:void 0!==e.disabledFields[i]&&e.disabledFields[i],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,n,i,a[0]],!0)},value:a[1],placeholder:ue().enter+" "+a[0]})}):"Unknown data type"})))})})})]})}):"Unknown data type"})))]})})))]})]},r)}(c)}return"number"===typeof i?function(t){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:t})}),Object(fe.jsx)(rt.a,{sm:4,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"number",id:t,onChange:function(r){r.preventDefault(),e.handleChangesCallback(parseInt(r.target.value,10),[t])},value:isNaN(e.values[t])?"":e.values[t],disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],placeholder:ue().enter+" "+t}),void 0!==de[e.resource]&&void 0!==de[e.resource][t]&&Object(fe.jsx)(me.a.Text,{className:"text-muted",children:de[e.resource][t]})]})})]})}(c):void 0!==le[e.resource]&&void 0!==le[e.resource][c]&&void 0!==t.data[le[e.resource][c]]?function(r,a){var n;return t==={}||void 0===t.data[r]&&void 0===t.data[a]||(n=t.data[void 0!==a?a:r]),Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:r})}),Object(fe.jsx)(rt.a,{sm:4,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(It.a,{disableClearable:!0,onChange:function(t,a){t.preventDefault(),""===a||null===a?e.handleChangesCallback("",[r]):e.handleChangesCallback(a._id,[r])},disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],value:""===e.values[r]?null:n.filter((function(t){return t._id===e.values[r]}))[0],options:n,getOptionLabel:function(e){return void 0!==e.optionalLabel?e.optionalLabel:e._id},renderOption:function(e,t){return Object(fe.jsx)(Ft.a,Object(u.a)(Object(u.a)({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:void 0!==t.optionalLabel?t.optionalLabel:t._id}))},renderInput:function(e){return Object(fe.jsx)(Tt.a,Object(u.a)(Object(u.a)({},e),{},{label:ue().enter+" "+r}))}})})})]})}(c,le[e.resource][c]):"boolean"===typeof i?function(t){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:t})}),Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Check,{id:t,type:"checkbox",onChange:function(r){r.preventDefault(),e.handleChangesCallback(r.target.checked,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],checked:e.values[t]}),void 0!==de[e.resource]&&void 0!==de[e.resource][t]&&Object(fe.jsx)(me.a.Text,{className:"text-muted",children:de[e.resource][t]})]})})]})}(c):"string"===typeof i?function(t){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px"},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:t})}),Object(fe.jsx)(rt.a,{sm:4,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"password"===t?"password":"email"===t?"email":"text",id:t,onChange:function(r){r.preventDefault(),e.handleChangesCallback(r.target.value,[t])},disabled:void 0!==e.disabledFields[t]&&e.disabledFields[t],value:e.values[t],placeholder:ue().enter+" "+t}),void 0!==de[e.resource]&&void 0!==de[e.resource][t]&&Object(fe.jsx)(me.a.Text,{className:"text-muted",children:de[e.resource][t]})]})})]})}(c):i.constructor===Object?function(r){return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(tt.a,{style:{borderBottomStyle:"dashed",borderBottomWidth:"1px",marginBottom:"5px"},children:s.a.Children.toArray(Object.entries(e.values[r]).map((function(e){return Object(fe.jsx)(rt.a,{sm:"boolean"===typeof e[1]?1:("number"===typeof e[1]||e[1],2),children:Object(fe.jsx)("b",{children:Object(fe.jsx)("i",{children:Re(r)+" "+e[0]})})})})))}),Object(fe.jsx)(tt.a,{children:s.a.Children.toArray(Object.entries(e.values[r]).map((function(a){var n=Object(b.a)(a,2),c=n[0],i=n[1],o=void 0!==e.disabledFields[r]&&(void 0!==e.disabledFields[r][c]?e.disabledFields[r][c]:!0===e.disabledFields[r]);return"number"===typeof i?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"number",onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,c])},disabled:o,value:isNaN(e.values[r][c])?"":e.values[r][c],placeholder:ue().enter+" "+c})})}):"boolean"===typeof i?Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.checked,[r,c])},disabled:o,checked:e.values[r][c],label:c})})}):void 0!==oe[e.resource]&&void 0!==oe[e.resource][r]&&void 0!==oe[e.resource][r][c]&&void 0!==t.types&&void 0!==t.types[oe[e.resource][r][c]]?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsxs)(me.a.Select,{"aria-label":"Default select",onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,c])},value:e.values[r][c],disabled:o,children:[Object(fe.jsx)("option",{children:ue().select+" "+c}),s.a.Children.toArray(Object.entries(t.types[oe[e.resource][r][c]]).map((function(e){var t=Object(b.a)(e,2),r=t[0],a=t[1];return Object(fe.jsx)("option",{value:r,children:a})})))]})})}):"string"===typeof i?Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"text",disabled:o,onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,c])},value:e.values[r][c],placeholder:ue().enter+" "+c}),"metadata"===r&&"name"===c&&"Country"===e.values[r][c]&&Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Please, enter 2-letter country code (i.e., It, De, Fr, etc...)."})]})}):Array.isArray(i)?0===i.length?c+" is empty":"range"===c&&"enum"!==e.values[r].type?"":Object(fe.jsx)(Me.a,{defaultActiveKey:"0",style:{paddingBottom:"10px",width:"auto"},children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsxs)(Me.a.Header,{children:[Object(fe.jsx)("b",{children:c})," : ",Ae(i)," items"]}),Object(fe.jsx)(Me.a.Body,{children:Object(fe.jsx)(et.a,{fluid:!0,children:s.a.Children.toArray(i.map((function(t,a){if(t.constructor===Object){var n=Object.entries(t);return Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{sm:1,style:{borderRightStyle:"dotted",borderRightWidth:"1px"}}),Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsx)(f.a,{disabled:void 0!==e.disabledFields[r]&&e.disabledFields[r],variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,c,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),s.a.Children.toArray(n.map((function(t){var n=Object(b.a)(t,2),s=n[0],i=n[1];return Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Control,{type:"text",disabled:o,onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,c,a,s])},value:i,placeholder:ue().enter+" "+s})})})})))]})}return"number"===typeof t?Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{disabled:o,variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,c,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"number",disabled:o,onChange:function(t){t.preventDefault(),e.handleChangesCallback(parseInt(t.target.value,10),[r,c,a])},value:isNaN(t)?"":t,placeholder:ue().enter+" "+c})})]}):"string"===typeof t?Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{disabled:o,variant:"link",size:"sm",onClick:function(t){t.preventDefault(),e.arrayDeleteCallback([r,c,a])},children:Object(fe.jsx)("i",{className:"fa fa-times","aria-hidden":"true",title:"Remove element",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})}),Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Control,{type:"text",disabled:void 0!==e.disabledFields[c]&&e.disabledFields[c],onChange:function(t){t.preventDefault(),e.handleChangesCallback(t.target.value,[r,c,a])},value:t,placeholder:ue().enter+" "+c})})]}):"Unknown data type"})))})})]})}):"Unknown data type"})))})]})}(c):""})))]},"form"),Object(fe.jsx)(f.a,{variant:"primary",type:"submit",children:ue().submit}),"\xa0\xa0\xa0",void 0!==e.backFunction&&Object(fe.jsx)(f.a,{variant:"secondary",onClick:e.backFunction,children:ue().cancel})]})},Et=r(73);function Bt(e,t){var r=Object.keys(e),a=Object.keys(t);return(r=r.filter((function(e){return-1!==a.indexOf(e)}))).sort((function(e,t){return a.indexOf(e)-a.indexOf(t)})),r.reduce((function(r,a){if(Array.isArray(e[a])&&0!==e[a].length&&e[a][0].constructor===Object){var n=e[a].map((function(e){return Bt(e,t[a][0])}));r[a]=n}else r[a]=e[a];return r}),{})}function zt(e,t,r){for(var a=Object.keys(e),n=Et(e),s=0;s<a.length;s++)Array.isArray(n[a[s]])&&(n=Ht(n,[a[s]],t,r));return n}function Ht(e,t,r,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=Et(e),c=s,i=void 0!==r?Et(r[a]):void 0,o=Object(j.a)(t),l=0;l<o.length&&void 0!==t[l];l++)c=c[t[l]];var d;if(Ae(c)<c.length)return s;for(var b=0;b<o.length&&void 0!==t[b]&&void 0!==i;b++)i="number"===typeof t[b]?i[0]:i[t[b]];return void 0===i||Array.isArray(i)?(void 0!==i&&(d=i[0].constructor===Object?Object(u.a)({},i[0]):""),void 0!==n&&void 0===i&&(d=n.constructor===Object?Object(u.a)({},n):n),void 0!==d&&c.push(d),s):s}var Gt=r(73);function Wt(e){var t=Object(h.p)(),r=t.resource,a=t.id,s=Object(n.useState)(),c=Object(b.a)(s,2),i=c[0],u=c[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],m=Object(h.n)(),v=Object(n.useState)(Gt(ne[r])),g=Object(b.a)(v,2),y=g[0],w=g[1],k=Object(n.useState)({}),_=Object(b.a)(k,2),C=_[0],S=(_[1],Object(n.useState)(void 0)),N=Object(b.a)(S,2),D=N[0],P=N[1],R=Object(n.useContext)(Xe).fetched,I=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===R.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,T(t,{limit:100,select:["_id","username","name"]});case 5:r=e.sent,R.UpdateData(r.docs.map((function(e){return{_id:e._id,optionalLabel:void 0!==e.name?e.name:void 0!==e.username?e.username:void 0}})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){void 0!==le[r]&&Object.values(le[r]).forEach((function(e){return I(e)}))}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,s,c,i,j=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.length>0&&void 0!==j[0]?j[0]:{},e.next=3,T(r,t);case 3:n=e.sent,s=n.docs[0],c=Gt(y),c=Bt(s,c),Object.entries(c).forEach((function(e){e[0].toLowerCase().includes("date")&&(c[e[0]]=Te(e[1]))})),i=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,s,i,l,j,b,p,h,f,O,x,m,v,g;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==ce[r]){e.next=7;break}for(P({}),t=Object.keys(c),n=0;n<t.length;n++)s=t[n],c=Ht(c,[s],ne,r);return w(c),u(Gt(c)),e.abrupt("return");case 7:i={},void 0!==D&&(i=D),l=Object.entries(ce[r]),j=0;case 11:if(!(j<l.length)){e.next=39;break}if(b=l[j][0],p=l[j][1],void 0!==c[b]){e.next=16;break}return e.abrupt("continue",36);case 16:if(void 0===p._type||"disable"!==p._type){e.next=23;break}return e.next=19,p.policy(a);case 19:h=e.sent,i[b]=h,e.next=36;break;case 23:f=Object.entries(p),O=0;case 25:if(!(O<f.length)){e.next=36;break}if(!1!==Array.isArray(c[b])||void 0!==c[b][f[O][0]]){e.next=28;break}return e.abrupt("continue",33);case 28:if(void 0===f[O][1]._type||"disable"!==f[O][1]._type){e.next=33;break}return e.next=31,f[O][1].policy(a);case 31:x=e.sent,i[b]=Object(d.a)({},f[O][0],x);case 33:O++,e.next=25;break;case 36:j++,e.next=11;break;case 39:for(m=Object.keys(c),v=0;v<m.length;v++)g=m[v],void 0!==i[g]&&!1!==i[g]||(c=Ht(c,[g],ne,r));P(i),w(c),u(Gt(c));case 44:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t={_id:a};e({filter:JSON.stringify(t)})}),[]);var F=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,s,c,l,u,b,p,h,f,O,v,g,w,k,_;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=Gt(y),s=Gt(i),De(n),De(s),c={},l=Object.entries(n),u=0;u<l.length;u++)if(b=l[u][0],p=l[u][1],Array.isArray(p)){if(void 0===c[b]&&(c[b]={add:[],remove:[],update:[]}),h=Object(j.a)(s[b]),void 0!==C[b])for(f=0;f<C[b].indexes.length;f++)(O=h.splice(C[b].indexes[f][0],1)[0]).constructor===Object?(v=Object.keys(O)[0],c[b].remove.push(O[v])):c[b].remove.push(O);for(g=0;g<n[b].length;g++)g<h.length&&!Pe(n[b][g],h[g])&&(n[b][g].constructor===Object?(k=Object.keys(h[g])[0],c[b].update.push((w={},Object(d.a)(w,k,h[g][k]),Object(d.a)(w,"new",n[b][g]),w))):(c[b].add.push(n[b][g]),c[b].remove.push(h[g]))),g>=h.length&&c[b].add.push(n[b][g]);Pe(c[b],{add:[],remove:[],update:[]})&&delete c[b]}else p.constructor===Object||p!==i[b]&&(c[b]=p);if(0!==Object.keys(c).length){e.next=11;break}return x(ue().no_changes_found),e.abrupt("return");case 11:return e.prev=11,e.next=14,A(r,c,a);case 14:_=e.sent,_.response,window.alert(ue().resource_successfully_edited),m("/"+r),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(11),e.t0.error.response,x(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details);case 24:case"end":return e.stop()}}),e,null,[[11,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:["Edit \xa0",Object(fe.jsx)("b",{children:r}),"\xa0of id:\xa0",Object(fe.jsx)("b",{children:a}),"\xa0"]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsx)(Lt,{values:y,resource:r,functionalFields:ne,disabledFields:D,handleChangesCallback:function(e,t){var a,n=Gt(y),s=n,c=-1;for(a=0;a<t.length-1;a++)s=s[t[a]],"number"===typeof t[a]&&(c=a);if("number"===typeof t[a]&&(c=a),s[t[a]]=e,-1!==c){var i="number"===typeof e?NaN:"";n=Ht(n,t.slice(0,c),ne,r,i)}w(n)},arrayDeleteCallback:function(e){var t,a=Gt(y),n=a;for(t=0;t<e.length-1&&void 0!==e[t];t++)n=n[e[t]];var s=n.splice(e[t],1),c="number"===typeof s[0]?NaN:"";a=Ht(a,e.slice(0,t),ne,r,c),1===t&&(void 0===C[e[0]]&&(C[e[0]]={indexes:[],elements:[],minDel:1/0}),Ne(s[0])||(C[e[0]].elements.push(s[0]),C[e[0]].indexes.push(e[t]>=C[e[0]].minDel?e[t]+C[[e[0]]].indexes.filter((function(r){return r>=e[t]})).length:e[t]),e[t]<C[e[0]].minDel&&(C[e[0]].minDel=e[t]))),w(a)},submitFunction:F,backFunction:function(e){e.preventDefault(),m(-1)}}),Object(fe.jsx)("br",{}),Object(fe.jsx)("font",{style:{marginLeft:"5px"},children:O})]})]})}var Mt=r(343),Ut=function(e){return void 0===e.submitFunction||void 0===e.backFunction||void 0===e.setContentHeader||void 0===e.setContentPlain||void 0===e.setContentBody||void 0===e.setFile||void 0===e.contentBody||void 0===e.contentPlain||void 0===e.contentHeader||void 0===e.setMsg||void 0===e.setIsError?"Loading":Object(fe.jsxs)(me.a,{onSubmit:e.submitFunction,children:[Object(fe.jsx)(me.a.Label,{children:Object(fe.jsx)("b",{children:ue().select_file})}),Object(fe.jsx)(me.a.Control,{className:"mb-3",type:"file",accept:".csv, .json",label:"File",onChange:function(t){var r=t.target.files[0];e.setFile(r);var a=new FileReader;a.onloadend=function(){var t=a.result;if(r.name.endsWith(".csv")){var n=new RegExp("\\r","g"),s=t.replace(n,"").split("\n");e.setContentHeader(s[0]),s.splice(0,1),e.setContentBody(s),e.setContentPlain(null)}if(r.name.endsWith(".json"))try{var c=JSON.stringify(JSON.parse(t),null,4);e.setContentHeader(null),e.setContentBody(null),e.setContentPlain(c),e.setMsg(""),e.setIsError(!1)}catch(i){e.setMsg("The selected file cannot be parsed as JSON because it contains errors. Please select another file or fix it before uploading"),e.setIsError(!0)}},a.readAsText(r)}}),null!==e.contentBody&&null!==e.contentHeader&&Object(fe.jsx)(Me.a,{children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsx)(Me.a.Header,{children:ue().file_content}),Object(fe.jsx)(Me.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(fe.jsxs)(We.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(fe.jsx)("thead",{children:Object(fe.jsx)("tr",{children:s.a.Children.toArray(e.contentHeader.split(",").map((function(e){return Object(fe.jsx)("th",{children:e})})))})}),Object(fe.jsx)("tbody",{children:s.a.Children.toArray(e.contentBody.map((function(e){return Object(fe.jsx)("tr",{children:s.a.Children.toArray(e.split(",").map((function(e){return Object(fe.jsx)("td",{children:e})})))})})))})]})})]})}),null!==e.contentPlain&&Object(fe.jsx)(Me.a,{children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsx)(Me.a.Header,{children:ue().file_content}),Object(fe.jsx)(Me.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(fe.jsx)("textarea",{style:{resize:"both"},cols:"120",rows:"10",readOnly:!0,value:e.contentPlain})})]})}),Object(fe.jsx)(f.a,{variant:"primary",type:"submit",children:ue().submit},"submit"),"\xa0\xa0\xa0",Object(fe.jsx)(f.a,{variant:"secondary",onClick:e.backFunction,children:ue().cancel},"cancel")]})},Kt=r(73);function Jt(e){var t=Object(h.p)().resource,r=Object(p.c)(),a=Object(b.a)(r,2),s=a[0];a[1];void 0!==e.resource&&(t=e.resource);var c,i=Object(h.n)(),d=Object(n.useState)("form"),u=Object(b.a)(d,2),j=u[0],f=u[1],O=Object(n.useState)(""),x=Object(b.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(!1),y=Object(b.a)(g,2),w=y[0],k=y[1],C=Object(n.useState)(Kt(se[t])),N=Object(b.a)(C,2),A=N[0],D=N[1],P=Object(n.useState)(void 0),R=Object(b.a)(P,2),I=R[0],F=R[1],L=Object(n.useState)(null),E=Object(b.a)(L,2),B=E[0],z=E[1],H=Object(n.useState)(null),G=Object(b.a)(H,2),W=G[0],M=G[1],U=Object(n.useState)(null),K=Object(b.a)(U,2),J=K[0],V=K[1],q=Object(n.useContext)(Xe);if(c=void 0!==q?q.fetched:{},Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,T(t,{limit:100,select:["_id","username","name"]});case 5:r=e.sent,c.UpdateData(r.docs.map((function(e){return{_id:e._id,optionalLabel:void 0!==e.name?e.name:void 0!==e.username?e.username:void 0}})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();void 0!==le[t]&&Object.values(le[t]).forEach((function(t){return e(t)}))}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var r,a,n,s,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,T(t,r);case 3:a=e.sent,n=a.docs[0],s=Kt(A),s=zt(s=Bt(n,s),se,t),D(s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(null!==s.get("from")&&""!==s.get("from")){var r={_id:s.get("from")};e({filter:JSON.stringify(r)})}}),[s,t]),void 0===se[t])return Object(fe.jsx)("div",{children:"This entity cannot be posted"});var Y=function(e){e.preventDefault(),i(-1)},Q=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,l,d,u;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=void 0,void 0!==(n=Kt(A)).token&&(a=n.token,delete n.token),s=Kt(n),De(s),e.prev=6,e.next=9,S(t,JSON.stringify(s),a);case 9:d=e.sent,l=d.response,v(l.statusText),k(!1),e.next=24;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),l=e.t0.error.response,console.log({message:l.data.message,details:l.data.details}),u="",u=l.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+l.data.details.slice(l.data.details.indexOf("{")+1,-1):l.data.details,v(l.data.message+" : "+u),k(!0);case 24:200===l.status&&("tenants"!==t&&c.RemoveData(t),window.alert(ue().resource_successfully_posted),i("/"+t));case 25:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,c,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),void 0!==I){e.next=5;break}return v(ue().no_file),k(!0),e.abrupt("return");case 5:if(!I.name.endsWith(".csv")){e.next=26;break}return(n=new FormData).append("file",I),e.prev=8,e.next=11,_(t,n);case 11:s=e.sent,a=s.response,v(a.statusText),k(!1),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),a=e.t0.error.response,console.log({message:e.t0.error.response.data.message,details:e.t0.error.response.data.details}),c="",c=e.t0.error.response.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+e.t0.error.response.data.details.slice(e.t0.error.response.data.details.indexOf("{")+1,-1):e.t0.error.response.data.details,v(e.t0.error.response.data.message+" : "+c),k(!0);case 26:if(!I.name.endsWith(".json")){e.next=45;break}return e.prev=27,e.next=30,S(t,J,void 0);case 30:l=e.sent,a=l.response,v(a.statusText),k(!1),e.next=45;break;case 36:e.prev=36,e.t1=e.catch(27),console.log(e.t1),a=e.t1.error.response,console.log({message:e.t1.error.response.data.message,details:e.t1.error.response.data.details}),d="",d=void 0!==e.t1.error.response.data.details&&e.t1.error.response.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+e.t1.error.response.data.details.slice(e.t1.error.response.data.details.indexOf("{")+1,-1):void 0===e.t1.error.response.data.details&&e.t1.error.response.data.message.includes("Unexpected token")?ue().generic_file_post_error:e.t1.error.response.data.details,v(e.t1.error.response.data.message+" : "+d),k(!0);case 45:200===a.status&&(window.alert(ue().resource_successfully_posted),i("/"+t));case 46:case"end":return e.stop()}}),e,null,[[8,17],[27,36]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(fe.jsx)("b",{children:t})]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsxs)(Mt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){f(e),v(""),k(!1)},defaultActiveKey:"form",children:[ie[t].includes("form")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"form",children:"Form"})}),ie[t].includes("file")&&null===s.get("from")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"file",children:"File"})})]}),Object(fe.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===j&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[Object(fe.jsx)(Lt,{values:A,resource:t,functionalFields:se,disabledFields:{},handleChangesCallback:function(e,r){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Kt(A),c=s,i=-1;for(a=0;a<r.length-1;a++)c=c[r[a]],"number"===typeof r[a]&&(i=a);c[r[a]]=e,"number"===typeof r[a]&&(i=a),!1===n&&-1!==i&&(s=Ht(s,r.slice(0,i),se,t)),D(s)},arrayDeleteCallback:function(e){var r,a=Kt(A),n=a;for(r=0;r<e.length-1&&void 0!==e[r];r++)n=n[e[r]];n.splice(e[r],1),a=Ht(a,e.slice(0,r),se,t),D(a)},submitFunction:Q,backFunction:Y}),Object(fe.jsx)("br",{}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:w?"red":"black"},children:m})]}),"file"===j&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[Object(fe.jsx)(Ut,{submitFunction:X,backFunction:Y,setContentBody:M,setContentHeader:z,setContentPlain:V,setFile:F,contentPlain:J,contentHeader:B,contentBody:W,setMsg:v,setIsError:k}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:w?"red":"black"},children:m})]})]})]})]})}function Vt(e){var t=Object(n.useState)(null),r=Object(b.a)(t,2),a=r[0],s=r[1];return Object(fe.jsx)(Me.a,{size:"lg",children:Object(fe.jsxs)(Me.a.Item,{eventKey:0,children:[Object(fe.jsx)(Me.a.Header,{children:ue().import+" - "+ue().export+" "+ue().configuration}),Object(fe.jsx)(Me.a.Body,{children:Object(fe.jsx)(et.a,{children:Object(fe.jsxs)(tt.a,{children:[Object(fe.jsx)(rt.a,{sm:6,children:Object(fe.jsxs)(me.a,{onSubmit:function(){return e.importValues(a)},children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)("b",{children:"Import configuration from json file"})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsxs)(rt.a,{children:[Object(fe.jsx)(me.a.Label,{children:Object(fe.jsx)("b",{children:ue().select_file})}),Object(fe.jsx)(me.a.Control,{className:"mb-3",type:"file",accept:".json",label:"File",onChange:function(e){e.preventDefault();var t=e.target.files[0],r=new FileReader;r.onloadend=function(){var e=r.result;s(e)},r.readAsText(t)}})]})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:"red"},children:e.importMsg})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{type:"submit",variant:"success",children:"Load"})})})]})}),Object(fe.jsxs)(rt.a,{sm:6,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)("b",{children:"Download configuration as json file"})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"22px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",onClick:function(){var t=new Blob([JSON.stringify(e.values,null,4)]);Object(vt.saveAs)(t,(""!==e.values._id?e.values._id:"Experiment")+".json")},children:"Download"})})})]})]})})})]})})}var qt=r(73);function Yt(e){var t="experiments",r=Object(p.c)(),a=Object(b.a)(r,2),c=a[0],i=(a[1],Object(h.n)()),d=Object(n.useState)("form"),u=Object(b.a)(d,2),j=u[0],f=u[1],O=Object(n.useState)(""),x=Object(b.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(!1),y=Object(b.a)(g,2),w=y[0],k=y[1],C=Object(n.useState)(""),N=Object(b.a)(C,2),A=N[0],D=N[1],P=Object(n.useState)(qt(se[t])),R=Object(b.a)(P,2),I=R[0],F=R[1],L=Object(n.useState)({metadata:{name:!0}}),E=Object(b.a)(L,2),B=E[0],z=E[1],H=Object(n.useState)(),G=Object(b.a)(H,2),W=G[0],M=G[1],U=Object(n.useState)(void 0),K=Object(b.a)(U,2),J=K[0],V=K[1],q=Object(n.useState)(null),Y=Object(b.a)(q,2),Q=Y[0],X=Y[1],Z=Object(n.useState)(null),$=Object(b.a)(Z,2),ee=$[0],te=$[1],re=Object(n.useState)(null),ae=Object(b.a)(re,2),ne=ae[0],ce=ae[1];if(Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,a=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,T("protocols",t);case 3:r=e.sent,M(r.docs.map((function(e){return e._id})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e({limit:100,select:["_id","metadata","topics"]})}),[e,c]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var r,a,n,s,c,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,T(t,r);case 3:a=e.sent,n=a.docs[0],(s=qt(I)).protocol="",s.metadata=[{name:"",value:""}],(c=qt(B)).protocol=!0,z(c),s=Bt(n,s),Object.entries(s).forEach((function(e){e[0].toLowerCase().includes("date")&&(s[e[0]]=Te(e[1]))})),s._id=s._id+"_copy",s=zt(s,se,t),F(s);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(null!==c.get("from")&&""!==c.get("from")){var r={_id:c.get("from")};e({filter:JSON.stringify(r),select:["_id","metadata","topics"]})}}),[c,t]),void 0===se[t])return Object(fe.jsx)("div",{children:"This entity cannot be posted"});var oe=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,a,n,s,c,i,l,d,u;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.value,a={_id:t.target.value},n={filter:JSON.stringify(a)},e.next=6,T("protocols",n);case 6:for(s=e.sent,c=s.docs[0],i=[],l=0;l<c.metadata.length;l++)"scalar"===c.metadata[l].type&&i.push({name:c.metadata[l].name,value:0}),"text"===c.metadata[l].type&&i.push({name:c.metadata[l].name,value:c.metadata[l].name+"_Name"}),"vector"===c.metadata[l].type&&i.push({name:c.metadata[l].name,value:[0]});(d=qt(I)).protocol=r,0!==i.length&&(d.metadata=i),(u=qt(B)).protocol=!0,z(u),F(d);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,c,l,d,u,j,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=void 0,void 0!==(n=qt(I)).token&&(a=n.token,delete n.token),s=qt(n),De(s),void 0!==s.protocol){e.next=10;break}return v("Please, select a protocol"),k(!0),e.abrupt("return");case 10:if(""!==s._id){e.next=14;break}return v("Please, define an _id"),k(!0),e.abrupt("return");case 14:if(""!==s.state){e.next=18;break}return v("Please, select a state"),k(!0),e.abrupt("return");case 18:return void 0!==s.startDate&&(c=new Date(s.startDate),l=c.getTime()-6e4*c.getTimezoneOffset(),s.startDate=new Date(l).toISOString()),void 0!==s.endDate&&(d=new Date(s.endDate),l=d.getTime()-6e4*d.getTimezoneOffset(),s.endDate=new Date(l).toISOString()),e.prev=20,e.next=23,S(t,JSON.stringify(s),a);case 23:j=e.sent,u=j.response,v(u.statusText),k(!1),e.next=38;break;case 29:e.prev=29,e.t0=e.catch(20),console.log(e.t0),u=e.t0.error.response,console.log({message:e.t0.error.response.data.message,details:e.t0.error.response.data.details}),b="",b=e.t0.error.response.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+e.t0.error.response.data.details.slice(e.t0.error.response.data.details.indexOf("{")+1,-1):e.t0.error.response.data.details,v(e.t0.error.response.data.message+" : "+b),k(!0);case 38:200===u.status&&(window.alert("Experiment successufully posted!"),i("/"+t));case 39:case"end":return e.stop()}}),e,null,[[20,29]])})));return function(t){return e.apply(this,arguments)}}(),de=function(e){e.preventDefault(),i(-1)},je=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,c,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),void 0!==J){e.next=5;break}return v(ue().no_file),k(!0),e.abrupt("return");case 5:if(!J.name.endsWith(".csv")){e.next=26;break}return(n=new FormData).append("file",J),e.prev=8,e.next=11,_(t,n);case 11:s=e.sent,a=s.response,v(a.statusText),k(!1),e.next=26;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),a=e.t0.error.response,console.log({message:e.t0.error.response.data.message,details:e.t0.error.response.data.details}),c="",c=e.t0.error.response.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+e.t0.error.response.data.details.slice(e.t0.error.response.data.details.indexOf("{")+1,-1):e.t0.error.response.data.details,v(e.t0.error.response.data.message+" : "+c),k(!0);case 26:if(!J.name.endsWith(".json")){e.next=45;break}return e.prev=27,e.next=30,S(t,ne,void 0);case 30:l=e.sent,a=l.response,v(a.statusText),k(!1),e.next=45;break;case 36:e.prev=36,e.t1=e.catch(27),console.log(e.t1),a=e.t1.error.response,console.log({message:e.t1.error.response.data.message,details:e.t1.error.response.data.details}),d="",d=void 0!==e.t1.error.response.data.details&&e.t1.error.response.data.details.includes("duplicate key")?ue().duplicate_resource_error+" "+e.t1.error.response.data.details.slice(e.t1.error.response.data.details.indexOf("{")+1,-1):void 0===e.t1.error.response.data.details&&e.t1.error.response.data.message.includes("Unexpected token")?"The selected file cannot be uploaded because it contains errors.":e.t1.error.response.data.details,v(e.t1.error.response.data.message+" : "+d),k(!0);case 45:200===a.status&&(window.alert("Experiment successufully posted!"),i("/"+t));case 46:case"end":return e.stop()}}),e,null,[[8,17],[27,36]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(fe.jsx)("b",{children:t})]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsxs)(Mt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){f(e),v(""),k(!1)},defaultActiveKey:"form",children:[ie[t].includes("form")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"form",children:"Form"})}),ie[t].includes("file")&&null===c.get("from")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"file",children:"File"})})]}),Object(fe.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===j&&(null===c.get("from")||""===c.get("from"))&&Object(fe.jsx)(Vt,{values:I,importValues:function(e){try{var t=JSON.parse(e),r=qt(I);null===t.state&&(t.state=NaN),r.protocol="",r.metadata=[{name:"",value:""}];var a=Bt(t,r);if(void 0===a._id&&void 0===a.owner&&void 0===a.protocol&&void 0===a.metadata)return void D(ue().error_imported_file);D(""),void 0!==a.history&&delete a.history,F(a);var n=qt(B);n.protocol=!0,z(n)}catch(s){D(ue().error_imported_file),console.log(s)}},importMsg:A}),"form"===j&&void 0!==W&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[(null===c.get("from")||""===c.get("from"))&&Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" protocol",onChange:oe,value:I.protocol,children:[Object(fe.jsxs)("option",{children:[ue().select," protocol"]}),s.a.Children.toArray(W.map((function(e){return Object(fe.jsx)("option",{value:e,children:e})})))]}),Object(fe.jsx)("br",{}),Object(fe.jsx)(Lt,{values:I,resource:t,functionalFields:se,disabledFields:B,handleChangesCallback:function(e,r){var a,n=qt(I),s=n,c=-1;for(a=0;a<r.length-1;a++)s=s[r[a]],"number"===typeof r[a]&&(c=a);if("number"===typeof r[a]&&(c=a),s[r[a]]=e,-1!==c){var i="number"===typeof e?NaN:"";n=Ht(n,r.slice(0,c),se,t,i)}F(n)},arrayDeleteCallback:function(e){var r,a=qt(I),n=a;for(r=0;r<e.length-1&&void 0!==e[r];r++)n=n[e[r]];var s="number"===typeof n.splice(e[r],1)[0]?NaN:"";a=Ht(a,e.slice(0,r),se,t,s),F(a)},submitFunction:le,backFunction:de}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:w?"red":"black"},children:m})]}),"file"===j&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[Object(fe.jsx)(Ut,{submitFunction:je,backFunction:de,setContentBody:te,setContentHeader:X,setContentPlain:ce,setFile:V,contentPlain:ne,contentHeader:Q,contentBody:ee,setMsg:v,setIsError:k}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:w?"red":"black"},children:m})]})]})]})]})}var Qt=r(73);function Xt(e){var t="measurements",r=Object(p.c)(),a=Object(b.a)(r,2),c=a[0],i=(a[1],Object(n.useState)([])),d=Object(b.a)(i,2),u=d[0],j=d[1],O=Object(n.useState)([]),x=Object(b.a)(O,2),m=x[0],v=x[1],g=Object(h.n)(),y=Object(n.useState)("form"),w=Object(b.a)(y,2),k=w[0],C=w[1],N=Object(n.useState)(""),A=Object(b.a)(N,2),D=A[0],P=A[1],R=Object(n.useState)(!1),I=Object(b.a)(R,2),F=I[0],L=I[1],E=Object(n.useState)(Qt(se[t])),B=Object(b.a)(E,2),z=B[0],H=B[1],G=Object(n.useState)({}),W=Object(b.a)(G,2),M=W[0],U=(W[1],Object(n.useState)()),K=Object(b.a)(U,2),J=K[0],V=K[1],q=Object(n.useState)(""),Y=Object(b.a)(q,2),Q=Y[0],X=Y[1],Z=Object(n.useState)(void 0),$=Object(b.a)(Z,2),ee=$[0],te=$[1],re=Object(n.useState)(null),ae=Object(b.a)(re,2),ne=ae[0],ce=ae[1],oe=Object(n.useState)(null),de=Object(b.a)(oe,2),je=de[0],be=de[1],pe=Object(n.useState)(null),he=Object(b.a)(pe,2),Oe=he[0],xe=he[1],ve=Object(n.useContext)(Xe).fetched,ge=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===ve.data[t]){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,T(t,{limit:100,select:["_id","username","name"]});case 5:r=e.sent,ve.UpdateData(r.docs.map((function(e){return{_id:e._id,optionalLabel:void 0!==e.name?e.name:void 0!==e.username?e.username:void 0}})),t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){void 0!==le[t]&&Object.values(le[t]).forEach((function(e){return ge(e)}))}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,r,a=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,T("features",t);case 4:r=e.sent,V(r.docs.map((function(e){return e._id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e({limit:100,select:["_id","items"]})}),[e,c]),void 0===se[t])return Object(fe.jsx)("div",{children:"This entity cannot be posted"});var ye=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,a,n,s,c,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.target.value,a={_id:r},n={filter:JSON.stringify(a)},e.next=6,T("features",n);case 6:return s=e.sent,c=s.docs[0],i=c.items,l=we([],i),j(l),v(i),X(r),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e,t){var r=[],a=Qt(e);return t.forEach((function(e){"number"===e.type?0===e.dimension?r.push({name:e.name,value:NaN,type:e.type}):r.push([{name:e.name,value:NaN,type:e.type}]):"text"===e.type?0===e.dimension?r.push({name:e.name,value:"",type:e.type}):r.push([{name:e.name,value:"",type:e.type}]):"enum"===e.type&&(0===e.dimension?r.push({name:e.name,value:"",enumValues:e.range,type:e.type}):r.push([{name:e.name,value:"",enumValues:e.range,type:e.type}]))})),a.push({values:r}),a},ke=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=void 0,n=Qt(z),s=u.map((function(e){return{values:e.values.map((function(e){return e.value}))}})),void 0!==n.token&&(a=n.token,delete n.token),De(n),n.feature=Q,n.samples=s,e.prev=8,e.next=11,S(t,JSON.stringify(n),a);case 11:i=e.sent,c=i.response,P(c.statusText),L(!1),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),c=e.t0.error.response,P(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details),L(!0);case 23:200===c.status&&(window.alert("Measurement successufully posted!"),g("/"+t));case 24:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(e){e.preventDefault(),g(-1)},Ce=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var a,n,s,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),void 0!==ee){e.next=5;break}return P(ue().no_file),L(!0),e.abrupt("return");case 5:if(!ee.name.endsWith(".csv")){e.next=23;break}return(n=new FormData).append("file",ee),e.prev=8,e.next=11,_(t,n);case 11:s=e.sent,a=s.response,P(a.statusText),L(!1),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0),a=e.t0.error.response,P(e.t0.error.response.data.message+" : "+e.t0.error.response.data.details),L(!0);case 23:if(!ee.name.endsWith(".json")){e.next=39;break}return e.prev=24,e.next=27,S(t,Oe,void 0);case 27:c=e.sent,a=c.response,P(a.statusText),L(!1),e.next=39;break;case 33:e.prev=33,e.t1=e.catch(24),console.log(e.t1),a=e.t1.error.response,P(e.t1.error.response.data.message+" : "+e.t1.error.response.data.details),L(!0);case 39:200===a.status&&(window.alert("Measurement successufully posted!"),g("/"+t));case 40:case"end":return e.stop()}}),e,null,[[8,17],[24,33]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsxs)("header",{className:"page-header",children:["Add resource \xa0",Object(fe.jsx)("b",{children:t})]}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsxs)(Mt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){C(e),P(""),L(!1)},defaultActiveKey:"form",children:[ie[t].includes("form")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"form",children:"Form"})}),ie[t].includes("file")&&null===c.get("from")&&Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"file",children:"File"})})]}),Object(fe.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"2px",borderStyle:"solid",borderColor:"rgba(18, 54, 81, 0.9)",borderWidth:"1px",width:"100%",height:"fit-content"},children:["form"===k&&void 0!==J&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" feature",onChange:ye,value:Q,children:[Object(fe.jsxs)("option",{children:[ue().select," feature"]}),s.a.Children.toArray(J.map((function(e){return Object(fe.jsx)("option",{value:e,children:e})})))]}),Object(fe.jsx)("hr",{}),Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsxs)("b",{children:["Samples :",u.length]})}),Object(fe.jsx)("br",{}),s.a.Children.toArray(u.map((function(e,t){return Object(fe.jsx)(tt.a,{style:{padding:10},children:Object(fe.jsx)(Me.a,{defaultActiveKey:"0",children:Object(fe.jsxs)(Me.a.Item,{eventKey:t,children:[Object(fe.jsx)(Me.a.Header,{children:Object(fe.jsx)("b",{children:Object(fe.jsxs)("i",{children:["Sample [",t,"]"]})})}),Object(fe.jsx)(Me.a.Body,{children:s.a.Children.toArray(Object.values(e.values).map((function(e){return Object(fe.jsxs)(tt.a,{style:{borderBottomStyle:"solid",borderBottomWidth:"1px",marginBottom:"5px",padding:10},children:[Object(fe.jsx)(rt.a,{sm:2,style:{borderRightStyle:"dotted",borderRightWidth:"1px"},children:Object(fe.jsx)("b",{children:Object(fe.jsx)("i",{children:e.name})})}),Object(fe.jsx)(rt.a,{sm:2,children:"enum"===e.type?Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" "+e.name,onChange:function(t){t.preventDefault(),e.value=t.target.value},children:[Object(fe.jsx)("option",{value:"",children:ue().select+" "+e.name}),s.a.Children.toArray(e.enumValues.map((function(e){return Object(fe.jsx)("option",{value:e,children:e})})))]}):"text"===e.type?Object(fe.jsx)(me.a.Control,{type:"text",id:e.name,onChange:function(t){t.preventDefault(),e.value=t.target.value},"aria-label":ue().enter+" "+e.name}):Object(fe.jsx)(me.a.Control,{type:"number",id:e.name,onChange:function(t){t.preventDefault(),e.value=parseInt(t.target.value,10)},"aria-label":ue().enter+" "+e.name})})]})})))})]})})})}))),0!==u.length&&Object(fe.jsx)(f.a,{variant:"link",onClick:function(){var e=we(u,m);j(e)},children:Object(fe.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",title:"Add sample",style:{width:"30px",height:"30px",marginRight:"10px",opacity:.85}})})]}),Object(fe.jsx)("hr",{}),Object(fe.jsx)("br",{}),Object(fe.jsx)(Lt,{values:z,resource:t,functionalFields:se,disabledFields:M,handleChangesCallback:function(e,r){var a,n=Qt(z),s=n,c=-1;for(a=0;a<r.length-1;a++)s=s[r[a]],"number"===typeof r[a]&&(c=a);if("number"===typeof r[a]&&(c=a),s[r[a]]=e,-1!==c){var i="number"===typeof e?NaN:"";n=Ht(n,r.slice(0,c),se,t,i)}H(n)},arrayDeleteCallback:function(e){var r,a=Qt(z),n=a;for(r=0;r<e.length-1&&void 0!==e[r];r++)n=n[e[r]];var s="number"===typeof n.splice(e[r],1)[0]?NaN:"";a=Ht(a,e.slice(0,r),se,t,s),H(a)},submitFunction:ke,backFunction:_e}),Object(fe.jsx)("br",{}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:F?"red":"black"},children:D})]}),"file"===k&&Object(fe.jsxs)("div",{style:{margin:"5px"},children:[Object(fe.jsx)(Ut,{submitFunction:Ce,backFunction:_e,setContentBody:be,setContentHeader:ce,setContentPlain:xe,setFile:te,contentPlain:Oe,contentHeader:ne,contentBody:je}),Object(fe.jsx)("font",{style:{marginLeft:"5px",color:F?"red":"black"},children:D})]})]})]})]})}var Zt=r(336);function $t(e){return void 0===e.postHistory||void 0===e.arraySepRef||void 0===e.floatSepRef||void 0===e.csvSep||void 0===e.setCsvSep||void 0===e.ovdRef||void 0===e.setCsvHeader||void 0===e.setCsvContent||void 0===e.setFile||void 0===e.file||void 0===e.csvContent||void 0===e.csvHeader?"Loading":Object(fe.jsxs)(me.a,{onSubmit:e.postHistory,children:[Object(fe.jsxs)(tt.a,{style:{paddingTop:"10px"},children:[Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Column Separator",value:e.csvSep,onChange:function(t){t.preventDefault(),e.setCsvSep(t.target.value)},children:[Object(fe.jsx)("option",{value:",",children:","}),Object(fe.jsx)("option",{value:";",children:";"}),Object(fe.jsx)("option",{value:"-",children:"-"}),Object(fe.jsx)("option",{value:"\\t",children:"\\t"})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Column separator"})]})}),Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Array separator",ref:e.arraySepRef,children:[Object(fe.jsx)("option",{value:";",children:";"}),Object(fe.jsx)("option",{value:",",children:","}),Object(fe.jsx)("option",{value:".",children:"."}),Object(fe.jsx)("option",{value:"-",children:"-"})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Array separator"})]})}),Object(fe.jsx)(rt.a,{sm:1,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Floating Point separator",ref:e.floatSepRef,children:[Object(fe.jsx)("option",{value:".",children:"."}),Object(fe.jsx)("option",{value:",",children:","})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Floating Point separator"})]})})]}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{sm:3,children:Object(fe.jsx)(me.a.Control,{className:"mb-3",type:"file",accept:".csv",label:"File",onChange:function(t){var r=t.target.files[0],a=new FileReader;a.onloadend=function(){var t=a.result,n=new RegExp("\\r","g"),s=t.replace(n,"").split("\n");e.setCsvHeader(s[0]),e.setFile(r),s.splice(0,1),e.setCsvContent(s)},a.readAsText(r)}})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",label:"Update duplicate steps in History Experiment",ref:e.ovdRef})})})}),null!==e.csvContent&&Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(Me.a,{children:Object(fe.jsxs)(Me.a.Item,{eventKey:"0",children:[Object(fe.jsx)(Me.a.Header,{children:ue().preview+" - "+e.file.name}),Object(fe.jsx)(Me.a.Body,{style:{overflow:"scroll",height:"70vh"},children:Object(fe.jsxs)(We.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[Object(fe.jsx)("thead",{children:Object(fe.jsx)("tr",{children:s.a.Children.toArray(e.csvHeader.split(e.csvSep).map((function(e){return Object(fe.jsx)("th",{children:e})})))})}),Object(fe.jsx)("tbody",{children:s.a.Children.toArray(e.csvContent.map((function(t){return Object(fe.jsx)("tr",{children:s.a.Children.toArray(t.split(e.csvSep).map((function(e){return Object(fe.jsx)("td",{children:e})})))})})))})]})})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",type:"submit",children:ue().submit})})})]})}function er(e){return void 0===e.experiments||void 0===e.postHistory||void 0===e.values||void 0===e.ovdRef||void 0===e.handleExperimentChange||void 0===e.handleChanges?"Loading":Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:0!==e.experiments.length&&Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" experiment",onChange:e.handleExperimentChange,children:[Object(fe.jsxs)("option",{children:[ue().select," experiment to update its history"]}),s.a.Children.toArray(e.experiments.map((function(e){return Object(fe.jsx)("option",{value:e._id,children:e._id})})))]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",label:"Update step if already present in History Experiment",ref:e.ovdRef})})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(Lt,{values:e.values,resource:"updateHistory",functionalFields:{updateHistory:{}},disabledFields:{fields:{name:!0}},handleChangesCallback:e.handleChanges,arrayDeleteCallback:function(){},submitFunction:e.postHistory})})})]})}var tr=r(73),rr=s.a.createRef(),ar=s.a.createRef(),nr=s.a.createRef();function sr(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(null),c=Object(b.a)(s,2),i=c[0],d=c[1],u=Object(n.useContext)(Xe).logs,j=Object(n.useState)(0),p=Object(b.a)(j,2),h=p[0],f=p[1],O=Object(n.useState)(null),x=Object(b.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)("file"),y=Object(b.a)(g,2),w=y[0],k=y[1],_=Object(n.useState)(0),C=Object(b.a)(_,2),S=C[0],N=C[1],A=Object(n.useState)([]),D=Object(b.a)(A,2),P=D[0],R=D[1],I=Object(n.useState)(""),F=Object(b.a)(I,2),L=F[0],E=F[1],B=Object(n.useState)({}),z=Object(b.a)(B,2),H=z[0],G=z[1],W=Object(n.useState)(""),M=Object(b.a)(W,2),U=M[0],K=M[1],J=Object(n.useState)(!1),V=Object(b.a)(J,2),q=V[0],Y=V[1],Q=Object(n.useState)(","),X=Object(b.a)(Q,2),Z=X[0],$=X[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("experiments",{});case 2:t=e.sent,R(t.docs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var ee=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,a,n,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=Z,a=ar.current.value,n=nr.current.value,s=rr.current.checked,""!==r&&""!==a&&""!==n){e.next=9;break}return K("Please, define all the separators"),Y(!0),e.abrupt("return");case 9:if(r!==a&&r!==n&&a!==n){e.next=13;break}return K("All the separators should have different values"),Y(!0),e.abrupt("return");case 13:if(null!==m&&void 0!==m){e.next=17;break}return K("Please, choose a file"),Y(!0),e.abrupt("return");case 17:return K(""),Y(!1),f(0),u.PushLog({type:"info",msg:"-------Begin Upload Operation "+S+"-------\n"}),e.next=23,wt(m,s,r,a,n);case 23:u.PushLog({type:"info",msg:"-------End Upload Operation "+S+"-------\n\n"}),N((function(e){return e+1})),f(100);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,a,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=tr(H),r=De(r),void 0!==L&&""!==L){e.next=7;break}return K("Please, select one experiment"),Y(!0),e.abrupt("return");case 7:if(r.fields=r.fields.filter((function(e){return"number"===typeof e.value&&!isNaN(e.value)||"string"===typeof e.value&&""!==e.value||Array.isArray(e.value)&&0!==e.value.length})),!isNaN(r.step)){e.next=12;break}return K("Please, define the step number"),Y(!0),e.abrupt("return");case 12:if(0!==r.fields.length){e.next=16;break}return K("Please, define at least one field"),Y(!0),e.abrupt("return");case 16:return K(""),Y(!1),a={},(n=[]).push(r),a.history={add:n},f(0),u.PushLog({type:"info",msg:"-------Begin Upload Operation "+S+"-------\n"}),e.next=26,_t(L,a,rr.current.checked);case 26:u.PushLog({type:"info",msg:"-------End Upload Operation "+S+"-------\n\n"}),N((function(e){return e+1})),f(100);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,a,n,s,c,i,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=P.filter((function(e){return e._id===t.target.value}))[0],a=r.protocol,n={_id:a},s={filter:JSON.stringify(n)},e.next=7,T("protocols",s);case 7:c=e.sent,i=c.docs[0],l=[],i.topics.map((function(e){return e.fields})).forEach((function(e){l=l.concat(e.map((function(e){var t="scalar"===e.type?NaN:"vector"===e.type?[NaN]:(e.type,"");return{name:e.name,value:t}})))})),(d={}).step=NaN,d.fields=l,G(d),E(t.target.value);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsx)("header",{className:"page-header",children:"Update Experiment History"}),Object(fe.jsxs)("main",{className:"page-content",children:[Object(fe.jsxs)(Mt.a,{justify:!0,variant:"tabs",className:"justify-content-center",onSelect:function(e){k(e),K(""),Y(!1)},defaultActiveKey:"file",children:[Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"form",children:"Form"})}),Object(fe.jsx)(Mt.a.Item,{children:Object(fe.jsx)(Mt.a.Link,{eventKey:"file",children:"File"})})]}),Object(fe.jsxs)(et.a,{fluid:!0,children:["form"===w&&Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(er,{postHistory:te,values:H,ovdRef:rr,handleExperimentChange:re,handleChanges:function(e,t){var r,a=tr(H),n=a,s=-1;for(r=0;r<t.length-1;r++)n=n[t[r]],"number"===typeof t[r]&&(s=r);if("number"===typeof t[r]&&(s=r),n[t[r]]=e,-1!==s){var c="number"===typeof e?NaN:"";a=Ht(a,t.slice(0,s),void 0,void 0,c)}G(a)},experiments:P})}),"file"===w&&Object(fe.jsx)(tt.a,{children:Object(fe.jsx)($t,{postHistory:ee,arraySepRef:ar,csvSep:Z,setCsvSep:$,floatSepRef:nr,ovdRef:rr,setCsvHeader:d,setCsvContent:a,setFile:v,file:m,csvContent:r,csvHeader:i})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:q?"red":"black"},children:U})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(Zt.a,{now:h,label:"".concat(h,"%"),variant:100===h?"success":"info"})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Operation logs"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("textarea",{id:"logger",style:{resize:"both"},cols:"100",rows:"10",readOnly:!0,value:u.logs.map((function(e){return e.msg})).reverse().join("-")})})})]})]})]})}var cr=r(152),ir=(r(73),s.a.createRef()),or=s.a.createRef(),lr=s.a.createRef(),dr=s.a.createRef(),ur=s.a.createRef();function jr(){var e=Object(n.useContext)(Xe).logs,t=Object(n.useState)(0),r=Object(b.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(0),d=Object(b.a)(i,2),u=d[0],j=d[1],p=Object(n.useState)([]),h=Object(b.a)(p,2),O=h[0],x=h[1],m=Object(n.useState)(""),v=Object(b.a)(m,2),g=v[0],y=v[1],w=Object(n.useState)(!1),k=Object(b.a)(w,2),_=k[0],C=k[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("experiments",{limit:100});case 2:t=e.sent,x(t.docs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var S=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var r,a,n,s,i,l,d,b,p,h,f;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=or.current.value,a=lr.current.value,n=dr.current.value,s=ir.current.value,i=ir.current.selectedIndex,l=ur.current.checked,0!==i){t.next=10;break}return y("Please, select one or All experiment"),C(!0),t.abrupt("return");case 10:if(""!==r&&""!==n&&""!==a){t.next=14;break}return y("Please, define all the separators"),C(!0),t.abrupt("return");case 14:if(r!==a&&r!==n&&a!==n){t.next=18;break}return y("Please, define three different separators"),C(!0),t.abrupt("return");case 18:if(y(""),C(!1),c(0),e.PushLog({type:"info",msg:"-------Begin Download Operation "+u+"-------\n"}),d=[],"All"!==s){t.next=36;break}b=0;case 25:if(!(b<O.length)){t.next=34;break}return t.next=28,St(O[b]._id,r,a,n,l);case 28:p=t.sent,d.push(p),c((b+1)/O.length*100);case 31:b++,t.next=25;break;case 34:t.next=40;break;case 36:return t.next=38,St(s,r,a,n,l);case 38:h=t.sent,d.push(h);case 40:if(!0!==l){t.next=46;break}return t.next=43,Object(cr.a)(d).blob();case 43:f=t.sent,Object(vt.saveAs)(f,"experiments_history.zip"),e.PushLog({type:"info",msg:"Files compressed into experiments_history.zip archive\n"});case 46:e.PushLog({type:"info",msg:"-------End Download Operation "+u+"-------\n\n"}),j((function(e){return e+1})),c(100);case 49:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var r,a,n,s,i,l,d,b,p,h,f,x,m;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ir.current.value,a=ir.current.selectedIndex,n=ur.current.checked,0!==a){t.next=7;break}return y("Please, select one or All experiment"),C(!0),t.abrupt("return");case 7:if(y(""),C(!1),c(0),e.PushLog({type:"info",msg:"-------Begin Download Operation "+u+"-------\n"}),s=[],"All"===r)for(i=0;i<O.length;i++)l=new Blob([JSON.stringify(O[i],null,4)]),d=O[i]._id+".json",b=null,void 0===n||!1===n?Object(vt.saveAs)(l,d):b=new File([l],d),s.push(b),e.PushLog({type:"info",msg:d+" successfully downloaded.\n"}),c((i+1)/O.length*100);else p=O.filter((function(e){return e._id===r}))[0],h=new Blob([JSON.stringify(p,null,4)]),f=r+".json",x=null,void 0===n||!1===n?Object(vt.saveAs)(h,f):x=new File([h],f),s.push(x),e.PushLog({type:"info",msg:f+" successfully downloaded.\n"});if(!0!==n){t.next=19;break}return t.next=16,Object(cr.a)(s).blob();case 16:m=t.sent,Object(vt.saveAs)(m,"experiments_data.zip"),e.PushLog({type:"info",msg:"Files compressed into experiments_data.zip archive\n"});case 19:e.PushLog({type:"info",msg:"-------End Download Operation "+u+"-------\n\n"}),j((function(e){return e+1})),c(100);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsx)("header",{className:"page-header",children:"Download Experiment History"}),Object(fe.jsx)("main",{className:"page-content",children:Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Select experiment"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{sm:3,children:0!==O.length&&Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" experiment",ref:ir,children:[Object(fe.jsxs)("option",{children:[ue().select," experiment"]}),Object(fe.jsx)("option",{children:"All"}),s.a.Children.toArray(O.map((function(e){return Object(fe.jsx)("option",{value:e._id,children:e._id})})))]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",children:Object(fe.jsx)(me.a.Check,{type:"checkbox",label:"Compress files in a single .zip archive",ref:ur})})})}),Object(fe.jsxs)(tt.a,{children:[Object(fe.jsxs)(rt.a,{children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Download history as csv"})})}),Object(fe.jsxs)(tt.a,{style:{paddingTop:"10px"},children:[Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Column Separator",ref:or,children:[Object(fe.jsx)("option",{value:",",children:","}),Object(fe.jsx)("option",{value:";",children:";"}),Object(fe.jsx)("option",{value:"-",children:"-"}),Object(fe.jsx)("option",{value:"\\t",children:"\\t"})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Column separator"})]})}),Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Array separator",ref:lr,children:[Object(fe.jsx)("option",{value:";",children:";"}),Object(fe.jsx)("option",{value:",",children:","}),Object(fe.jsx)("option",{value:".",children:"."}),Object(fe.jsx)("option",{value:"-",children:"-"})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Array separator"})]})}),Object(fe.jsx)(rt.a,{sm:2,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsxs)(me.a.Select,{"aria-label":"CSV Floating Point separator",ref:dr,children:[Object(fe.jsx)("option",{value:".",children:"."}),Object(fe.jsx)("option",{value:",",children:","})]}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:"Floating Point separator"})]})})]}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",onClick:S,children:"Download History"})})})]}),Object(fe.jsxs)(rt.a,{children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Download experiment data as json"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{variant:"primary",onClick:N,children:"Download Data"})})})]})]}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:_?"red":"black"},children:g})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(Zt.a,{now:a,label:"".concat(a,"%"),variant:100===a?"success":"info"})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Operation logs"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("textarea",{id:"logger",style:{resize:"both"},cols:"100",rows:"10",readOnly:!0,value:e.logs.map((function(e){return e.msg})).reverse().join("-")})})})]})})]})}r(73);var br=s.a.createRef();function pr(){var e=Object(n.useContext)(Xe).logs,t=Object(n.useState)(0),r=Object(b.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(0),d=Object(b.a)(i,2),u=d[0],p=d[1],h=Object(n.useState)([]),O=Object(b.a)(h,2),x=O[0],m=O[1],v=Object(n.useState)(),g=Object(b.a)(v,2),y=g[0],w=g[1],k=Object(n.useState)(),_=Object(b.a)(k,2),C=_[0],S=_[1],N=Object(n.useState)(),A=Object(b.a)(N,2),D=A[0],P=(A[1],Object(n.useState)("")),R=Object(b.a)(P,2),I=R[0],F=R[1],L=Object(n.useState)(!1),E=Object(b.a)(L,2),B=E[0],z=E[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("experiments",{limit:100});case 2:t=e.sent,m(t.docs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var H=function(){var t=Object(l.a)(Object(o.a)().mark((function t(){var r,a,n;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==D){t.next=4;break}return F("Please, select one or All experiment"),z(!0),t.abrupt("return");case 4:if(r=[],a=Object(j.a)(C),""!==(n=br.current.value)){t.next=11;break}return F("Please, define at least one step"),z(!0),t.abrupt("return");case 11:if(n.includes("*")?(r=r.concat(C),a=[]):n.replace(/\s/g,"").split(",").forEach((function(e){if(e.includes("/")){var t=e.split("-"),n=C.indexOf(parseInt(t[0])),s=C.indexOf(parseInt(t[1]));if(-1!==n&&-1!==s)for(var c=n;c<=s;c++)r.push(C[c]),a.splice(a.indexOf(C[c]),1)}else C.includes(parseInt(e))&&(r.push(parseInt(e)),a.splice(a.indexOf(parseInt(e)),1))})),0!==r.length){t.next=16;break}return F("The experiment history does not contain specified steps, please check them"),z(!0),t.abrupt("return");case 16:return F(""),z(!1),c(0),e.PushLog({type:"info",msg:"-------Begin Remove Operation "+u+"-------\n"}),t.next=22,Pt(y,r);case 22:e.PushLog({type:"info",msg:"-------End Remove Operation "+u+"-------\n\n"}),p((function(e){return e+1})),c(100),S(a);case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(fe.jsxs)("div",{className:"page",children:[Object(fe.jsx)("header",{className:"page-header",children:"Remove steps from Experiment History"}),Object(fe.jsx)("main",{className:"page-content",children:Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{style:{paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Select experiment"})})}),Object(fe.jsxs)(tt.a,{style:{paddingBottom:"10px"},children:[Object(fe.jsx)(rt.a,{sm:3,children:0!==x.length&&Object(fe.jsxs)(me.a.Select,{"aria-label":ue().select+" experiment",onChange:function(e){var t=e.target.value;if(0===e.target.selectedIndex)return w(void 0),void S(void 0);var r=x.filter((function(e){return e._id===t}))[0].history.map((function(e){return e.step})).sort((function(e,t){return e-t}));w(t),S(r)},children:[Object(fe.jsxs)("option",{children:[ue().select," experiment"]}),s.a.Children.toArray(x.map((function(e){return Object(fe.jsx)("option",{value:e._id,children:e._id})})))]})}),void 0!==y&&Object(fe.jsxs)(rt.a,{children:["History steps contained into ",Object(fe.jsx)("b",{children:y}),": ["," ",C.join(", ")," ]"]})]}),void 0!==C&&0===C.length&&Object(fe.jsx)(tt.a,{style:{paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:"The selected experiment's history does not contain steps"})}),void 0!==C&&0!==C.length&&Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(tt.a,{style:{paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{sm:3,children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",children:[Object(fe.jsx)(me.a.Control,{type:"text",ref:br}),Object(fe.jsxs)(me.a.Text,{className:"text-muted",children:["Define the steps comma separated.",Object(fe.jsx)("br",{})," intervals can be specified as begin-end (included)."," ",Object(fe.jsx)("br",{})," to remove all steps enter * ",Object(fe.jsx)("br",{}),"Example: 2, 3, 5-7"]})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(f.a,{onClick:H,children:"Remove steps"})})})]}),Object(fe.jsx)(tt.a,{style:{paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("font",{style:{marginLeft:"5px",color:B?"red":"black"},children:I})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(Zt.a,{now:a,label:"".concat(a,"%"),variant:100===a?"success":"info"})})}),Object(fe.jsx)(tt.a,{style:{paddingTop:"10px",paddingBottom:"10px"},children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("b",{children:"Operation logs"})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("textarea",{id:"logger",style:{resize:"both"},cols:"100",rows:"10",readOnly:!0,value:e.logs.map((function(e){return e.msg})).reverse().join("-")})})})]})})]})}var hr=s.a.createRef(),fr=s.a.createRef();function Or(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],s=Object(h.n)();function c(){return(c=Object(l.a)(Object(o.a)().mark((function e(t){var r,n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=hr.current.value,""!==(n=fr.current.value)){e.next=6;break}return a(ue().missing_tenant),e.abrupt("return");case 6:if(""!==r){e.next=9;break}return a(ue().missing_email),e.abrupt("return");case 9:return e.prev=9,e.next=12,E(n,r);case 12:200===e.sent.response.status?a(ue().email_sent_successfully):a(ue().email_sent_errors),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),console.log({error:e.t0.response.data}),a(e.t0.response.data.message+" : "+e.t0.response.data.details);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}return Object(fe.jsxs)("div",{className:"auth-page",children:[Object(fe.jsx)("div",{className:"title-wrapper",children:Object(fe.jsx)(xe,{})}),Q.length>1&&Object(fe.jsx)("div",{className:"language-wrapper",children:Object(fe.jsx)(Oe,{})}),Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),Object(fe.jsxs)("div",{className:"login-section",children:[Object(fe.jsx)(me.a,{onSubmit:function(e){return c.apply(this,arguments)},children:Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("h4",{children:ue().password_recovery})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"tenant",children:[Object(fe.jsx)(me.a.Label,{children:ue().tenant}),Object(fe.jsx)(me.a.Control,{ref:fr,type:"text",placeholder:ue().tenant_suggestion})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(fe.jsx)(me.a.Label,{children:ue().email}),Object(fe.jsx)(me.a.Control,{type:"email",ref:hr,placeholder:ue().email_suggestion})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsxs)(rt.a,{children:[Object(fe.jsx)(f.a,{variant:"success",type:"submit",children:ue().submit})," ","\xa0\xa0\xa0",Object(fe.jsx)(f.a,{variant:"secondary",onClick:function(e){e.preventDefault(),s(-1)},children:ue().cancel})]})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("div",{style:{color:"red"},children:r})})})]})}),Object(fe.jsx)("br",{})]})]})}var xr=s.a.createRef(),mr=s.a.createRef(),vr=s.a.createRef();function gr(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],s=Object(p.c)(),c=Object(b.a)(s,2),i=c[0],d=(c[1],Object(n.useState)(i.get("token"))),u=Object(b.a)(d,2),j=u[0],O=u[1],x=Object(h.n)();function m(){return(m=Object(l.a)(Object(o.a)().mark((function e(t){var r,n,s,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G();case 4:n=e.sent,r=n.response.data.passwordStrength,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),r=1;case 12:if(s=xr.current.value,c=mr.current.value,i=vr.current.value,""!==c&&""!==i){e.next=18;break}return a(ue().pass_not_null),e.abrupt("return");case 18:if(c===i){e.next=21;break}return a(ue().pass_not_match),e.abrupt("return");case 21:if(""!==s){e.next=24;break}return a(ue().missing_email),e.abrupt("return");case 24:if(""!==j&&void 0!=j){e.next=27;break}return a(ue().missing_token),e.abrupt("return");case 27:if(!(Object(at.passwordStrength)(c).id<r)){e.next=31;break}return a(ue().stronger_password_required),e.abrupt("return");case 31:return e.prev=31,e.next=34,z(s,j,c);case 34:200===e.sent.response.status?a(ue().password_changed):a(ue().password_not_changed_errors),e.next=45;break;case 38:if(e.prev=38,e.t1=e.catch(31),console.log(e.t1),"Network Error"!==e.t1.error.message){e.next=44;break}return a(ue().network_error),e.abrupt("return");case 44:a(e.t1.response.data.message+" : "+e.t1.response.data.details);case 45:case"end":return e.stop()}}),e,null,[[1,8],[31,38]])})))).apply(this,arguments)}return Object(fe.jsxs)("div",{className:"auth-page",children:[Object(fe.jsx)("div",{className:"title-wrapper",children:Object(fe.jsx)(xe,{})}),Q.length>1&&Object(fe.jsx)("div",{className:"language-wrapper",children:Object(fe.jsx)(Oe,{})}),Object(fe.jsx)("br",{}),Object(fe.jsx)("br",{}),Object(fe.jsxs)("div",{className:"login-section",children:[Object(fe.jsx)(me.a,{onSubmit:function(e){return m.apply(this,arguments)},children:Object(fe.jsxs)(et.a,{fluid:!0,children:[Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("h4",{children:ue().password_reset})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"tenant",children:[Object(fe.jsx)(me.a.Label,{children:ue().tenant}),Object(fe.jsx)(me.a.Control,{ref:xr,type:"text",placeholder:ue().tenant_suggestion})]})})})," ",(null===i.get("token")||""===i.get("token"))&&Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"token",children:[Object(fe.jsx)(me.a.Label,{children:"Token"}),Object(fe.jsx)(me.a.Control,{onChange:function(e){e.preventDefault(),O(e.target.value)},type:"text",placeholder:ue().enter+" token"})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsxs)(me.a.Group,{className:"mb-3",controlId:"tenant",children:[Object(fe.jsx)(me.a.Label,{children:ue().password}),Object(fe.jsx)(me.a.Control,{ref:mr,type:"password",placeholder:ue().enter+" new password"}),Object(fe.jsx)(me.a.Text,{className:"text-muted",children:ue().password_rules})]})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)(me.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(fe.jsx)(me.a.Control,{type:"password",ref:vr,placeholder:ue().repeat+" new password"})})})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsxs)(rt.a,{children:[Object(fe.jsx)(f.a,{variant:"success",type:"submit",children:ue().submit})," ","\xa0\xa0\xa0",Object(fe.jsx)(f.a,{variant:"secondary",onClick:function(){x("/")},children:ue().go_login_page})]})}),Object(fe.jsx)(tt.a,{children:Object(fe.jsx)(rt.a,{children:Object(fe.jsx)("div",{style:{color:"red"},children:r})})})]})}),Object(fe.jsx)("br",{})]})]})}var yr=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),r=t[0],c=t[1],i=Object(n.useState)([]),f=Object(b.a)(i,2),O=f[0],x=f[1],m=Object(n.useState)(),v=Object(b.a)(m,2),g=v[0],w=v[1],k=Object(n.useState)({}),_=Object(b.a)(k,2),C=_[0],S=_[1],N=s.a.useRef(),A=localStorage.getItem("token");function D(e){c((function(t){return[e].concat(t)}))}function P(e){var t=Object(j.a)(r);t.splice(e,1),c(t)}function R(){c([])}Z.length=0,Object.keys($).forEach((function(e){return delete $[e]})),Object.keys(ee).forEach((function(e){return delete ee[e]})),Object.keys(te).forEach((function(e){return delete te[e]})),Object.keys(re).forEach((function(e){return delete re[e]})),Object.keys(ae).forEach((function(e){return delete ae[e]})),Object.keys(ne).forEach((function(e){return delete ne[e]})),Object.keys(se).forEach((function(e){return delete se[e]})),Object.keys(ce).forEach((function(e){return delete ce[e]})),Object.keys(ie).forEach((function(e){return delete ie[e]})),Object.keys(oe).forEach((function(e){return delete oe[e]})),Object.keys(le).forEach((function(e){return delete le[e]})),Object.keys(de).forEach((function(e){return delete de[e]})),se.tenants={token:"",_id:"",organization:"",address:"",email:"",phone:"",admin_username:"",admin_password:""},ie.tenants=["form"],a=void 0!==q?q:window.location.origin+"/v1";var I={notifications:r,PushNotification:D,RemoveNotification:P,ClearNotifications:R};y.ClearNotifications=R,y.PushNotification=D,y.RemoveNotification=P,Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("types",{},"");case 3:t=e.sent,w(t.response.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(void 0===g)try{e()}catch(t){console.log(t)}}),[]);var F={types:g,data:C,UpdateData:function(e,t){S((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},t,Object(j.a)(e)))}))},RemoveData:function(e){S((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(d.a)({},e,void 0))}))}};function L(e){x((function(t){return[e].concat(t)}));var t=document.getElementById("logger");null!==t&&void 0!==t&&(t.scrollTop=t.scrollHeight)}function E(e){var t=Object(j.a)(O);t.splice(e,1),x(t)}function B(){x([])}var z={logs:O,PushLog:L,RemoveLog:E,ClearLogs:B};return gt.ClearLogs=B,gt.PushLog=L,gt.RemoveLog=E,!0===/Mobi/i.test(window.navigator.userAgent)?N.current="vertical":N.current=X,null===A?Object(fe.jsx)("div",{className:"app",children:Object(fe.jsx)(p.a,{children:Object(fe.jsxs)(h.d,{children:[Object(fe.jsx)(h.b,{path:"/",element:Object(fe.jsx)(we,{})}),Object(fe.jsx)(h.b,{path:"/passwordrecovery",element:Object(fe.jsx)(Or,{})}),Object(fe.jsx)(h.b,{path:"/passwordreset",element:Object(fe.jsx)(gr,{})}),Object(fe.jsx)(h.b,{path:"/add/tenants",element:Object(fe.jsx)(Jt,{resource:"tenants"})}),Object(fe.jsx)(h.b,{path:"*",element:Object(fe.jsx)(h.a,{to:"/",replace:!0})})]})})}):(function(){var e;localStorage.getItem("user-tenant"),e=V(),Object.assign(Z,e.operationPages),Object.assign($,e.pages),Object.assign(ee,e.aliasPages),Object.assign(te,e.restrictionPages),Object.assign(re,e.pageActions),Object.assign(ae,e.viewFields),Object.assign(ne,e.editFields),Object.assign(se,e.addFields),Object.assign(ce,e.editFieldsSpecifier),Object.assign(ie,e.addTypes),Object.assign(oe,e.fetchedPageTypes),Object.assign(le,e.fetchedPageData),Object.assign(de,e.guidelines)}(),Object(fe.jsx)(Xe.Provider,{value:{notifications:I,fetched:F,logs:z},children:Object(fe.jsx)(p.a,{children:Object(fe.jsxs)(et.a,{fluid:!0,style:{paddingLeft:0,paddingRight:0,height:"100vh",width:"99vw"},children:["horizontal"===N.current?Object(fe.jsx)(tt.a,{style:{padding:0},children:Object(fe.jsx)(mt,{})}):"",Object(fe.jsxs)(tt.a,{style:{padding:0},children:["vertical"===N.current?Object(fe.jsx)(rt.a,{md:"auto",style:{padding:0,minWidth:"250px"},children:Object(fe.jsx)(Ge,{})}):"",!0===/Mobi/i.test(window.navigator.userAgent)&&Object(fe.jsx)(rt.a,{md:"auto",style:{padding:0},children:Object(fe.jsx)(ut,{})}),Object(fe.jsx)(rt.a,{style:{paddingLeft:0,paddingRight:0},children:Object(fe.jsxs)(h.d,{children:[Object(fe.jsx)(h.b,{path:"/",element:Object(fe.jsx)(ke,{})}),Object(fe.jsx)(h.b,{path:"/home",element:Object(fe.jsx)(ke,{})}),Object(fe.jsx)(h.b,{path:"/viewProfile",element:Object(fe.jsx)(nt,{})}),Object(fe.jsx)(h.b,{path:"/add/experiments/",element:Object(fe.jsx)(Yt,{})}),Object(fe.jsx)(h.b,{path:"/add/measurements/",element:Object(fe.jsx)(Xt,{})}),Object(fe.jsx)(h.b,{path:"/edit/:resource/:id",element:Object(fe.jsx)(Wt,{})}),Object(fe.jsx)(h.b,{path:"/downloadexperiment",element:Object(fe.jsx)(jr,{})}),Object(fe.jsx)(h.b,{path:"/updatehistory",element:Object(fe.jsx)(sr,{})}),Object(fe.jsx)(h.b,{path:"/removesteps",element:Object(fe.jsx)(pr,{})}),Object(fe.jsx)(h.b,{path:"/add/:resource/",element:Object(fe.jsx)(Jt,{})}),Object(fe.jsx)(h.b,{path:"/:page",element:Object(fe.jsx)($e,{res:":page"})}),Object(fe.jsx)(h.b,{path:"/unauthorized",element:Object(fe.jsx)(st,{})}),Object(fe.jsx)(h.b,{path:"/404",element:Object(fe.jsx)(_e,{})}),Object(fe.jsx)(h.b,{path:"*",element:Object(fe.jsx)(h.a,{to:"/404",replace:!0})})]})}),"vertical"===N.current&&!1===/Mobi/i.test(window.navigator.userAgent)&&Object(fe.jsx)(rt.a,{md:"auto",style:{paddingLeft:0,paddingRight:0},children:Object(fe.jsx)(ut,{})})]})]})})}))};i.a.render(Object(fe.jsx)(s.a.StrictMode,{children:Object(fe.jsx)(yr,{})}),document.getElementById("root"))}},[[284,1,2]]]);
//# sourceMappingURL=main.ee1683e6.chunk.js.map